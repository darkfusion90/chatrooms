(this.webpackJsonpchatrooms=this.webpackJsonpchatrooms||[]).push([[0],{122:function(e,t,n){},233:function(e,t,n){e.exports=n(405)},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},326:function(e,t,n){},365:function(e,t,n){},393:function(e,t){},396:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(10),o=function(){function e(t){Object(a.a)(this,e),this.loggerKey=t}return Object(r.a)(e,[{key:"debug",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(e=console).log.apply(e,[this.loggerKey].concat(n))}}]),e}();t.default=function(e){return new o(e)}},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o),i=n(18),s=n(11),l=n(186),u=n(184),m={connected:!1},d=n(187),p=n.n(d),f=n(95),h=n(31),g=n(206),E={length:0,data:{}},b={isLoggedIn:!1,user:{}},v={isModalOpen:!1,modalName:null,modalProps:null},y=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{isLoggedIn:!0,user:t.payload.user};case"LOGOUT":return b;case"REGISTER":return{isLoggedIn:!1,user:t.payload};case"UPDATE_USER":return Object(h.a)({},e,{},t.payload);default:return e}},serverConnection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return"CONNECT_TO_SERVER"===t.type?{connected:t.payload.connected}:e},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PUBLIC_ROOMS":return t.payload;case"DELETE_ROOM":return p.a.omit(e,t.payload);default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_NOTIFICATION":var n=t.payload,a=n.id,r=Object(g.a)(n,["id"]);return console.log("id: "+a+"\nmetadata:"),console.log(r),Object(h.a)({},e,{length:e.length+1,data:Object(h.a)({},e.data,Object(f.a)({},a,r))});default:return e}},form:u.a,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object(h.a)({isModalOpen:!0},t.payload);case"HIDE_MODAL":return v;default:return e}}}),O=n(9),j=n(10),w=n(13),C=n(12),R=n(14),S=n(54),k=n(22),F=n(26),M=n(138),N=n(207),A=n(61),I=n(101),L=n(25),D=n(24),x=n(205),T=n(109),P=function(e){return r.a.createElement(x.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:r.a.createElement(T.a,null,r.a.createElement(T.a.Title,{as:"h2"},e.title),r.a.createElement(T.a.Content,null,e.menu))},e.triggerComponent)},_=n(19),U=n.n(_),B=n(192),V=n.n(B),J=V.a.create({withCredentials:!0}),G=function(e,t,n,a,r){return J.post("/api/register",{username:e,password:t,confirmPassword:n}).then(a,r)},H=function(e,t,n,a){return J.post("/api/login",{username:e,password:t}).then(n,a)},q=function(e,t,n){return J.get("/api/rooms/".concat(e)).then(t,n)},z=function(e,t,n,a){return J.post("/api/rooms",{roomName:e,roomType:t}).then(n,a)},W=function(e,t,n){return J.delete("/api/rooms/".concat(e)).then(t,n)},Y=function(e,t,n){return J.post("/api/rooms/".concat(e,"/members")).then(t,n)},K=(n(321),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).onLogoutButtonClick=function(){n.props.logoutUser()},n.renderTriggerComponent=function(){return r.a.createElement(A.a,{as:"span",className:"header-icon"},r.a.createElement(L.a,{icon:D.i,size:"lg"}))},n.renderTitle=function(){return r.a.createElement("span",{style:{fontWeight:"normal"}},"Signed in as ",r.a.createElement("strong",null,n.props.username))},n.renderMenu=function(){return r.a.createElement("div",{className:"user-info-dropdown-menu-container"},r.a.createElement(F.a,{variant:"outline-secondary",onClick:n.onLogoutButtonClick},"Log Out"))},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(P,{title:this.renderTitle(),menu:this.renderMenu(),triggerComponent:this.renderTriggerComponent()})}}]),t}(r.a.Component)),X=Object(s.b)((function(e){return{username:e.user.user.username}}),{logoutUser:function(){return function(e){return U.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){return e({type:"LOGOUT"})},a=function(e){var t=e.response;return console.log("Logout Failed: ",t)},J.post("/api/logout").then(n,a);case 1:case"end":return t.stop()}var n,a}))}}})(K),Q=function(e){var t=e.shouldShowBadge?"visible":"hidden";return r.a.createElement(L.a,{icon:D.a,size:"lg"},r.a.createElement(L.a,{icon:D.e,style:{visibility:t}}))},Z=n(193),$=r.a.forwardRef((function(e,t){var n=e.children,a=e.className,o=e.style;return r.a.createElement("div",{ref:t,className:a,style:o},n)})),ee=function(e){return console.log("item. title: "+e.notification.title),r.a.createElement(Z.a,{as:$},"nblah abl blhjljaljgjjkfgklkjkgjkfgjfkgj")},te=(n(322),function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(j.a)(t,[{key:"getDropdownMenu",value:function(){var e=this.props.notifications;return 0===e.length?r.a.createElement("div",{className:"item"},"You don't have any notifications"):Object.keys(e.data).map((function(t){return r.a.createElement("div",{key:t},r.a.createElement(ee,{notification:e.data[t]}),r.a.createElement("hr",null))}))}},{key:"getWrappedNotificationIcon",value:function(){return r.a.createElement("span",{className:"header-icon nav-item"},r.a.createElement(Q,{shouldShowBadge:0!==this.props.notifications.length}))}},{key:"render",value:function(){return r.a.createElement(P,{title:"Notifications",menu:this.getDropdownMenu(),triggerComponent:this.getWrappedNotificationIcon()})}}]),t}(r.a.Component)),ne=Object(s.b)((function(e){return{notifications:e.notifications}}),null)(te),ae=(n(323),{backgroundColor:"#23282d"}),re=Object(s.b)((function(e){return{isUserLoggedIn:e.user.isLoggedIn}}),null)((function(e){return r.a.createElement(M.a,{collapseOnSelect:!0,style:ae,expand:"large",sticky:"top"},r.a.createElement(I.a,null,r.a.createElement(M.a.Brand,null,r.a.createElement(k.b,{to:"/",className:"logo"}," ChatRooms ")),r.a.createElement(N.a,{className:"justify-content-end flex-row"},r.a.createElement("div",{className:"header-item-container"},r.a.createElement(k.b,{to:"/rooms",className:"header-text"},"Rooms")),r.a.createElement("div",{className:"header-item-container"},r.a.createElement(ne,null)),e.isUserLoggedIn?r.a.createElement(X,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.b,{to:"/login"},r.a.createElement(A.a,{as:"span",className:"header-icon"},r.a.createElement(F.a,{size:"sm"},"Login"))),r.a.createElement(k.b,{to:"/register"},r.a.createElement(A.a,{as:"span",className:"header-icon"},r.a.createElement(F.a,{size:"sm"},"Register")))))))})),oe=function(e){return r.a.createElement("div",{className:"app"},r.a.createElement(re,null),r.a.createElement("div",null,e.children))},ce=(n(326),function(e,t){return{type:"SHOW_MODAL",payload:{modalName:e,modalProps:t}}}),ie=function(e){return{type:"HIDE_MODAL"}},se=Object(s.b)(null,{showModal:ce,hideModal:ie})((function(e){return r.a.createElement("div",{className:"landing-page compensate-header"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("p",null,"Welcome to ChatRooms!"),r.a.createElement("div",{className:"buttons-container"},r.a.createElement(F.a,{onClick:function(){return e.showModal("CreateRoom")}},"Create Room"),r.a.createElement(F.a,{onClick:function(){return e.showModal("JoinRoom")}},"Join Room"))))})),le=(n(122),function(){return r.a.createElement("div",{className:"error"},"Oops! Unable to connect to the server. Please visit later")}),ue=function(){return r.a.createElement("div",{className:"error"},"Error 404: Page Not Found.",r.a.createElement(k.b,{to:"/"},r.a.createElement(F.a,null,"Home")))},me=n(137),de=n(411),pe=n(196),fe=n(199),he=n(182),ge=n(183),Ee=n(204),be=n(197),ve=n(407),ye=function(e){var t=e.formProps,n=e.error,o=Object(a.useState)(!1),c=Object(Ee.a)(o,2),i=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,t.label),r.a.createElement(ve.a,null,r.a.createElement(pe.a,Object.assign({},t,t.input,{type:i?"text":"password"})),r.a.createElement(ve.a.Append,{onClick:function(){s(!i)},style:{cursor:"pointer"}},r.a.createElement(ve.a.Text,null,r.a.createElement(L.a,{icon:i?D.c:D.d})))),r.a.createElement(pe.a,Object.assign({},t,t.input,{style:{display:"none"}})),r.a.createElement(pe.a.Feedback,{type:"invalid"},n))},Oe=function(e){var t=e.meta.error,n=function(e){var t=e.meta,n=t.touched,a=t.error,r=t.pristine,o=n&&a;return Object(h.a)({},e,{},e.input,{isInvalid:o,isValid:!r&&!o})}(e);return"password"===e.type?r.a.createElement(ye,{formProps:n,error:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a.Label,null,e.label),r.a.createElement(pe.a,n),r.a.createElement(pe.a.Feedback,{type:"invalid"},t))},je=Object(ge.a)({form:"loginForm",validate:function(e){var t={};return e.username||(t.username="Username is required"),e.password||(t.password="Password is required"),t}})((function(e){return r.a.createElement(de.a,{onSubmit:e.handleSubmit(e.onFormSubmit)},r.a.createElement(fe.a,{controlId:"formUsernameGroup"},r.a.createElement(he.a,{component:Oe,name:"username",type:"text",label:"Enter Username",placeholder:"Example: mitsy_the_cat"})),r.a.createElement(fe.a,{controlId:"formPasswordGroup"},r.a.createElement(he.a,{component:Oe,name:"password",type:"password",label:"Enter Password",placeholder:"Password"})),r.a.createElement(F.a,{type:"submit"},"Login"))})),we=function(e){var t=!e.dismissAction;return r.a.createElement(me.a,{show:e.show,variant:e.variant,onClose:e.onDismiss,dismissible:t},r.a.createElement(me.a.Heading,null,e.heading),r.a.createElement("p",null,e.body),r.a.createElement("div",{className:"d-flex justify-content-end"},e.dismissAction&&e.dismissAction()))},Ce=(n(365),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).state={hasLoginError:!1,errorReason:null,showErrorAlert:!1},n.onLoginFailure=function(e){var t=e.response;n.setState({hasLoginError:!0,errorReason:t.data.reason,showErrorAlert:!0})},n.onFormSubmit=function(e){n.props.loginUser(e.username,e.password,n.onLoginFailure)},n.renderAppropriateContentIfRedirect=function(e){var t=e.location.state;if(t&&t.isRedirectFromSuccessfulRegister)return r.a.createElement(me.a,{variant:"success"},r.a.createElement(me.a.Heading,null,"Registration Completed!"),r.a.createElement("p",null,"Please login to continue"))},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return this.props.isUserLoggedIn?r.a.createElement(S.a,{to:"/"}):r.a.createElement(I.a,{className:"compensate-header"},r.a.createElement("div",{className:"centered-content login-container"},this.renderAppropriateContentIfRedirect(this.props),r.a.createElement(we,{variant:"danger",heading:"Login Unsuccessful",body:this.state.errorReason,show:this.state.showErrorAlert,onDismiss:function(){return e.setState({showErrorAlert:!1})}}),r.a.createElement(je,{onFormSubmit:this.onFormSubmit})))}}]),t}(r.a.Component)),Re=Object(s.b)((function(e){return{isUserLoggedIn:e.user.isLoggedIn}}),{loginUser:function(e,t,n){return function(a){return U.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:H(e,t,(function(e){a({type:"LOGIN",payload:{user:e.data}})}),n);case 2:case"end":return r.stop()}}))}}})(Ce),Se=n(200),ke="event:room",Fe="connect_to_room",Me="join_room",Ne="event:message",Ae="send_message",Ie="event:user",Le="check_username",De=n.n(Se)()("/",{autoConnect:!1}),xe=function(e){De.connect(),De.on("connect_error",e)},Te=function(e,t){return De.emit(ke,Me,e,t)},Pe=(n(396),function(e){var t=e.meta.error,n=function(e){var t=e.meta,n=t.touched,a=t.error,r=t.pristine,o=t.asyncValidating,c=_e(a)||n&&a;return Object(h.a)({},e,{},e.input,{className:o?"loading":"",isInvalid:c,isValid:!o&&!r&&!c})}(e);return"password"===e.type?r.a.createElement(ye,{formProps:n,error:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a.Label,null,e.label),r.a.createElement(pe.a,n),r.a.createElement(pe.a.Feedback,{type:"invalid"},t))}),_e=function(e){return"That username is already taken"===e},Ue=Object(ge.a)({form:"registerForm",validate:function(e){var t=e.username,n=e.password,a=e.confirmPassword,r={};if(t||(r.username="Username cannot be empty"),n||(r.password="Password cannot be empty"),a){if(function(e,t){return e!==t}(n,a)){var o="Confirm Password and Password must match";r.confirmPassword=o,r.password=o}}else r.confirmPassword="Confirm Password cannot be empty";return r},asyncValidate:function(e,t){return new Promise((function(t,n){return a=e.username,r=function(e){200===e.status?n({username:"That username is already taken"}):t()},De.emit(Ie,Le,a,r);var a,r}))},asyncChangeFields:["username"]})((function(e){var t=e.pristine,n=e.submitting,a=e.asyncValidating,o=e.invalid,c=t||n||a||o,i={cursor:c?"not-allowed":"pointer"};return r.a.createElement(de.a,{id:"registration-form",noValidate:!0,onSubmit:e.handleSubmit(e.onFormSubmit)},r.a.createElement(fe.a,{controlId:"formUsernameGroup"},r.a.createElement(he.a,{component:Pe,name:"username",type:"text",label:"Enter Username",placeholder:"Example: mitsy_the_cat"})),r.a.createElement(fe.a,{controlId:"formPasswordGroup"},r.a.createElement(he.a,{component:Pe,name:"password",type:"password",label:"Enter Password",placeholder:"Password"})),r.a.createElement(fe.a,{controlId:"formConfirmPasswordGroup"},r.a.createElement(he.a,{component:Pe,name:"confirmPassword",type:"password",label:"Confirm Password",placeholder:"Confirm Password"})),r.a.createElement(F.a,{type:"submit",form:"registration-form",disabled:c,style:i},"Register"))})),Be=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).onRegistrationFailed=function(e){var t=e.response;console.log("Registration failed: ",t)},n.onFormSubmit=function(e){console.log("Registration Form Values: ",e),n.props.registerUser(e.username,e.password,e.confirmPassword,n.onRegistrationFailed)},n.renderAppropriateRedirect=function(e){return e?r.a.createElement(S.a,{to:"/"}):r.a.createElement(S.a,{to:{pathname:"/login",state:{isRedirectFromSuccessfulRegister:!0}}})},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return this.props.isUserLoggedIn?r.a.createElement(S.a,{to:"/"}):this.props.isUserRegistered?this.renderAppropriateRedirect(this.props.isUserLoggedIn):r.a.createElement("div",{className:"centered-content"},r.a.createElement(I.a,null,r.a.createElement(Ue,{onFormSubmit:this.onFormSubmit})))}}]),t}(r.a.Component),Ve=Object(s.b)((function(e){return{isUserRegistered:e.user.user&&e.user.user.isRegistered,isUserLoggedIn:e.user.isLoggedIn}}),{registerUser:function(e,t,n,a){return function(r){return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:G(e,t,n,(function(e){return r({type:"REGISTER",payload:e.data})}),a);case 1:case"end":return o.stop()}}))}}})(Be),Je=n(198),Ge=n(408),He=n(412),qe=function(e){if(!e)return"<unknown>";var t=new Date(e);return function(e,t){if(e<t){throw new Error("[ISODateToReadableString.getAppropriateTimeDifferenceText] First date argument must be greater than the second argument")}var n=function(e,t){var n=e.getYear()-t.getYear();if(n>0)return{unit:n>1?"years":"year",difference:n};var a=e.getMonth()-t.getMonth();if(a>0)return{unit:a>1?"months":"month",difference:a};var r=e.getDate()-t.getDate();if(r>0)return{unit:r>1?"days":"day",difference:r};var o=e.getHours()-t.getHours();if(o>0)return{unit:o>1?"hrs":"hr",difference:o};var c=e.getMinutes()-t.getMinutes();if(c>0)return{unit:c>1?"mins":"min",difference:c};var i=e.getSeconds()-t.getSeconds();return i>0?{unit:i>1?"secs":"sec",difference:i}:void 0}(e,t);return n?"".concat(n.difference).concat(n.unit," ago"):"just now"}(new Date,t)},ze=n(201),We=function(e){var t=e.title,n=e.content,a=e.footer,o=e.key;return r.a.createElement(ze.a,{key:o},r.a.createElement(He.a,{className:"border-0",style:{backgroundColor:"#ededed"}},r.a.createElement(He.a.Body,null,r.a.createElement(He.a.Title,null,t),n),a?r.a.createElement(He.a.Footer,null,a):""))},Ye=n(409),Ke=n(410),Xe=function(e){var t=e.buttonProps,n=e.icon,a=e.content;return r.a.createElement(F.a,t,r.a.createElement(Ge.a,null,r.a.createElement(Je.a,null,n),r.a.createElement(Je.a,{style:{paddingLeft:0,whiteSpace:"nowrap"}},a)))},Qe=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={joinRoomStatus:"initial"},n.onJoinButtonClick=function(){var e=n.props.room.roomId;Y(e,(function(){n.setState({joinRoomStatus:"success"})}),(function(e){var t=e.response;n.setState({joinRoomStatus:"fail"}),n.props.onError(t.message)})),n.setState({joinRoomStatus:"pending"})},n.onDeleteButtonClick=function(){n.props.showModal("DeleteRoom",{room:n.props.room})},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"determineJoinButtonMetadata",value:function(){var e,t,n="primary";return"pending"===this.state.joinRoomStatus?(e=r.a.createElement(Ye.a,{animation:"border",size:"sm"}),t="Joining..."):"success"===this.state.joinRoomStatus?(e=r.a.createElement(L.a,{icon:D.b}),t="Joined",n="success"):"fail"===this.state.joinRoomStatus&&(e=r.a.createElement(L.a,{icon:D.h}),t="Join Failed",n="danger"),{icon:e,content:t,variant:n}}},{key:"getActionsForRoomMember",value:function(e,t){var n=r.a.createElement(F.a,{variant:"danger",onClick:this.onDeleteButtonClick},"Delete");return r.a.createElement(Ke.a,null,r.a.createElement(k.b,{to:"/rooms/".concat(t),component:F.a},"Open"),this.props.isUserLoggedIn&&function(e){return e&&"admin"===e.memberType}(e)?n:null)}},{key:"getActionsForNonRoomMember",value:function(){if(console.log("status: ",this.state.joinRoomStatus),"initial"===this.state.joinRoomStatus)return r.a.createElement(F.a,{onClick:this.onJoinButtonClick},"Join");var e=this.determineJoinButtonMetadata(),t=e.icon,n=e.content,a={variant:e.variant,disabled:!0};return r.a.createElement(Xe,{icon:t,content:n,buttonProps:a})}},{key:"render",value:function(){var e=this.props,t=e.room,n=e.currentUser;if(n){var a=function(e,t){return e.members.filter((function(e){return e&&e.user&&e.user._id===t}))}(t,n._id)[0];return a?this.getActionsForRoomMember(a,t.roomId):this.getActionsForNonRoomMember()}}}]),t}(r.a.Component),Ze=Object(s.b)((function(e){return{currentUser:e.user.user,isUserLoggedIn:e.user.isLoggedIn}}),{showModal:ce,hideModal:ie})(Qe),$e=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"renderRoomMetaData",value:function(){var e=this.props.room,t=e.createdBy,n=t?t.username:"<unknown>",a=qe(e.createdAt);return"Created ".concat(a," by ").concat(n)}},{key:"renderComponentContent",value:function(){var e=this;return r.a.createElement(Ge.a,null,r.a.createElement(Je.a,{className:"d-flex align-items-center"},r.a.createElement(He.a.Text,null,this.renderRoomMetaData())),r.a.createElement(Je.a,null,r.a.createElement(Ze,{room:this.props.room,onError:function(t){return e.setState({error:t})}})))}},{key:"renderComponentTitle",value:function(){var e=this.props.room;return r.a.createElement(k.b,{to:"/rooms/".concat(e.roomId)},e.name)}},{key:"renderComponentFooter",value:function(){var e=this.state.error;return e?r.a.createElement(Ge.a,null,r.a.createElement(Je.a,{style:{color:"red"}},e)):null}},{key:"render",value:function(){return r.a.createElement(We,{title:this.renderComponentTitle(),content:this.renderComponentContent(),footer:this.renderComponentFooter()})}}]),t}(r.a.Component),et=n(202),tt=function(e){return r.a.createElement(et.a,{variant:"flush"},function(e){return e.rooms.map((function(e){return r.a.createElement($e,{room:e,key:e.roomId})}))}(e))},nt=n(397)("[RoomListContainer]"),at=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).onRoomFetchFail=function(e){var t=e.response;nt.debug("RoomList fetch fail: ",t)},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPublicRooms(this.onRoomFetchFail)}},{key:"render",value:function(){return console.log(this.props.rooms),r.a.createElement(tt,{rooms:this.props.rooms})}}]),t}(r.a.Component),rt=Object(s.b)((function(e){return{rooms:e.rooms}}),{fetchPublicRooms:function(e){return function(t){return U.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=function(e){t({type:"FETCH_PUBLIC_ROOMS",payload:e.data})},r=e,J.get("/api/rooms").then(a,r);case 1:case"end":return n.stop()}var a,r}))}}})(at),ot=n(58),ct=n(203),it=n.n(ct),st=(n(398),function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){it()(this.textareaRef)}},{key:"render",value:function(){var e=this;return r.a.createElement(pe.a,Object.assign({},this.props,this.props.input,{as:"textarea",rows:"1",className:"text-input-wrap",ref:function(t){return e.textareaRef=t}}))}}]),t}(r.a.Component)),lt=(n(399),"chat-message-form"),ut=function(e){return r.a.createElement(st,e)},mt=Object(ge.a)({form:lt,onSubmitSuccess:function(e,t){t(Object(ot.a)(lt))}})((function(e){var t=e.handleSubmit(e.onFormSubmit);return r.a.createElement(de.a,{onSubmit:t,id:lt},r.a.createElement(Ge.a,{className:"d-flex align-items-center w-100"},r.a.createElement(Je.a,{sm:10,md:10,ld:10},r.a.createElement(de.a.Group,{controlId:"message",className:"w-100 textarea-container"},r.a.createElement(he.a,{name:"message",placeholder:"Type a message...",type:"text",component:ut}))),r.a.createElement(Je.a,{sm:2,md:2,lg:2},r.a.createElement(F.a,{type:"submit",form:lt},"Send"))))})),dt=(n(400),function(e){var t=e.message,n=e.align,a=e.color,o=e.isCurrentUserMessageAuthor;if(!t)return null;var c=o?"You":t.author&&t.author.username?t.author.username:"<unknown-user>",i=function(){var e="15px solid ".concat(a),t="left"===n?{borderRight:e}:{borderLeft:e};return r.a.createElement("p",{className:"arrow ".concat(n),style:t})}();return r.a.createElement(et.a.Item,{key:t.id,style:{border:"none"}},r.a.createElement(I.a,{className:"message float-".concat(n),style:{backgroundColor:a}},"left"===n&&i,c&&r.a.createElement("p",null,r.a.createElement("strong",null,c)),r.a.createElement("p",null,t.data),"right"===n&&i))}),pt=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).isCurrentUserMessageAuthor=function(){var e=n.props,t=e.message,a=e.userId;return t&&t.author&&t.author._id===a},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.color;if(!t)return null;var a=this.isCurrentUserMessageAuthor()?"right":"left";return r.a.createElement(dt,{message:t,align:a,color:n,isCurrentUserMessageAuthor:this.isCurrentUserMessageAuthor()})}}]),t}(r.a.Component),ft=Object(s.b)((function(e){return{userId:e.user.user._id}}),null)(pt),ht=["#fff07c","#80ff72","#7ee8fa","#eec0c6","#e58c8a"],gt=function(e){return ht.length===e.length},Et=function(e,t){return-1!==e.indexOf(t)},bt=function(e){var t={},n=[];return e.forEach((function(e){if(!t[e]){var a=function(e){var t;do{var n=Math.floor(Math.random()*ht.length);t=ht[n]}while(Et(e,t)&&!gt(e));return t}(n);t[e]=a,gt(n)||n.push(a)}})),t},vt=(n(401),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={randomAuthorColors:[]},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.room;e&&this.setState({randomAuthorColors:this.assignRandomColorsToMessageAuthors(e)})}},{key:"assignRandomColorsToMessageAuthors",value:function(e){var t=e.messages.map((function(e){return e.author&&e.author._id}));return bt(t)}},{key:"render",value:function(){var e=this,t=this.props.room;return t?r.a.createElement(et.a,{className:"chat-container pre-scrollable",variant:"flush"},t.messages.map((function(n){var a=e.state.randomAuthorColors[n.author&&n.author._id];return r.a.createElement(ft,{color:a,roomId:t.roomId,message:n,key:n&&n._id})}))):null}}]),t}(r.a.Component)),yt=(n(402),function(e){var t=e.room;return t?(console.log("room: ",t),r.a.createElement(I.a,{fluid:!0},r.a.createElement(Ge.a,{style:{backgroundColor:"#ededed",height:"3.5vw"}},r.a.createElement(Je.a,null,r.a.createElement("span",{className:"room-name"},r.a.createElement("strong",null,t.name))),r.a.createElement(Je.a,{sm:2,lg:2,md:2,xl:2},r.a.createElement(Ge.a,null,r.a.createElement(Je.a,{sm:4,lg:4,md:4,xl:4,className:"col-4"},r.a.createElement(L.a,{icon:D.g})),r.a.createElement(Je.a,{sm:4,lg:4,md:4,xl:4,className:"col-4"},r.a.createElement(L.a,{icon:D.f}))))))):null}),Ot=function(){var e=(void 0).props,t=e.room,n=e.onSendMessageButtonClick;return r.a.createElement("div",{style:{border:"1px solid red",marginTop:"1vh",height:"100%"}},r.a.createElement(yt,{room:t}),r.a.createElement(I.a,{fluid:!0,className:"d-flex flex-column justify-content-center",style:{height:"100%"}},r.a.createElement(Ge.a,null,r.a.createElement(Je.a,null,r.a.createElement(vt,{room:t}))),r.a.createElement(Ge.a,null,r.a.createElement(Je.a,{style:{backgroundColor:"#ededed"}},r.a.createElement(mt,{onFormSubmit:n})))))},jt=function(e){var t=e.msg||"You do not have the permissions required to view this page";return r.a.createElement("div",{className:"error"},t,r.a.createElement(k.b,{to:"/"},r.a.createElement(F.a,null,"Home")))},wt=function(e,t,n,a){!function(e,t,n,a){J.post("/api/rooms/".concat(e,"/messages"),{message:t}).then(n,a)}(e,t,(function(t){!function(e,t){De.emit(Ne,Ae,e,t)}(e,t._id),n(t)}),a)},Ct=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={room:null,error:null},n.onRoomFetchSuccess=function(e){n.setState({room:e.data,error:null})},n.onRoomFetchFail=function(e){var t=e.response;n.setState({error:t})},n.onSendMessageButtonClick=function(e){var t=e.message;if(!t||0===t.trim().length)return null;var a=n.state.room;wt(a.roomId,t,n.onSendMessageSuccess,n.onSendMessageFailure)},n.onSendMessageSuccess=function(e){n.setState({room:e.data})},n.onSendMessageFailure=function(e){var t=e.response;n.setState({error:t})},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.roomId;!function(e,t){De.on(Ne,(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];console.log("Message Event: ",a);var o=a[0];if(o===Ae){var c=a[1];c.roomId===e&&t(c)}}))}(t,(function(n){console.log("new message: ",n),q(t,e.onRoomFetchSuccess,e.onRoomFetchFail)})),q(t,this.onRoomFetchSuccess,this.onRoomFetchFail)}},{key:"componentDidUpdate",value:function(){var e,t,n=this.state.room;n&&(e=n.roomId,t=function(e){console.log("room connect callback: ",e)},De.emit(ke,Fe,e,t))}},{key:"renderError",value:function(){var e=this.state.error.status;return 403===e?r.a.createElement(jt,{msg:"User not allowed"}):404===e?r.a.createElement(ue,null):r.a.createElement("div",null,"Unexpected Error")}},{key:"render",value:function(){var e=this.state,t=e.room,n=e.error;return t?r.a.createElement(Ot,{room:t,onSendMessageButtonClick:this.onSendMessageButtonClick}):n?this.renderError():r.a.createElement("div",{className:"centered-content"},r.a.createElement("h2",null,"Please wait while your Room is loading..."),r.a.createElement(Ye.a,{animation:"border",size:"xl"}))}}]),t}(r.a.Component),Rt={row:{marginLeft:0,marginRight:0},container:{paddingLeft:0}},St=function(e){var t=e.match.params.id;return r.a.createElement(I.a,{fluid:!0,style:Rt.container},r.a.createElement(Ge.a,{style:Rt.row},function(e){return r.a.createElement(Je.a,Object.assign({},function(e){return e?{xl:5,lg:5,md:6,sm:0,xs:0,className:"d-none d-md-block"}:{}}(e),{style:{maxHeight:"90vh",overflow:"scroll"}}),r.a.createElement(rt,null))}(t),function(e){if(e)return r.a.createElement(Je.a,Object.assign({xl:7,lg:7,md:6},function(e){return e?{xs:12,sm:12}:{}}(e)),r.a.createElement(Ct,{roomId:e,key:e}))}(t)))},kt=(n(403),function(e){return r.a.createElement(k.a,null,r.a.createElement(oe,null,e.serverConnectionFailed?r.a.createElement(le,null):r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/",component:se}),r.a.createElement(S.b,{exact:!0,path:"/rooms/:id?",component:St}),r.a.createElement(S.b,{exact:!0,path:"/login",component:Re}),r.a.createElement(S.b,{exact:!0,path:"/register",component:Ve}),r.a.createElement(S.b,{exact:!0,path:"*",component:ue}))))}),Ft=function(e,t){var n,a;n=function(n){var a=e.data,r=n.data.isLoggedIn;t(function(e,t){return{type:"UPDATE_USER",payload:{isLoggedIn:e,user:t}}}(r,a))},a=function(e){var t=e.response;return console.log("Check user status fail: ",t)},J.get("/api/user/status/login").then(n,a)},Mt=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={serverConnectionFailed:!1},n.onServerConnectionFailed=function(){n.setState({serverConnectionFailed:!0})},n.onServerConnected=function(){n.setState({serverConnectionFailed:!1})},n.onServerDisconnected=function(){n.setState({serverConnectionFailed:!0})},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.connectToServer(this.onServerConnectionFailed),e=this.onServerDisconnected,De.on("disconnect",e),function(e){De.on("connect",e)}(this.onServerConnected),this.props.updateUser()}},{key:"render",value:function(){return r.a.createElement(kt,this.state)}}]),t}(r.a.Component),Nt=Object(s.b)(null,{connectToServer:function(e){return function(t){return U.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.awrap(xe(e));case 2:t({type:"CONNECT_TO_SERVER",payload:{connected:!0}});case 3:case"end":return n.stop()}}))}},createNotification:function(e,t,n){var a={type:"CREATE_NOTIFICATION",payload:{id:"id",title:e,content:t,actions:n}};return console.log("action: "),console.log(a),a},updateUser:function(){return function(e){return U.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t){return Ft(t,e)},a=function(e){var t=e.response;return console.log("Get current user fail: ",t)},J.get("/api/user/").then(n,a);case 1:case"end":return t.stop()}var n,a}))}}})(Mt),At=n(72),It=function(e){return r.a.createElement(At.a,{show:e.visible,onHide:e.hideModal,centered:!0},r.a.createElement(At.a.Header,{closeButton:!0,onHide:e.hideModal},r.a.createElement(At.a.Title,null,e.header)),r.a.createElement(At.a.Body,null,e.content),r.a.createElement(At.a.Footer,null,e.actions))},Lt=function(e,t,n,a){return function(r){return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:z(e,t,(function(e){r({type:"CREATE_ROOM",payload:e.data}),n()}),a);case 1:case"end":return o.stop()}}))}},Dt=(n(404),[{label:"Private",value:"private"},{label:"Public",value:"public"},{label:"Unlisted",value:"unlisted"}]),xt=function(e){var t=e.input,n=e.meta,a=e.options,o=n.touched&&n.error,c=!n.pristine&&!o,i=a.map((function(e){return r.a.createElement(de.a.Group,{controlId:"roomType-".concat(e.value),key:e.value},r.a.createElement(de.a.Check,Object.assign({},t,e,{type:"radio",isInvalid:o,isValid:c})))}));return r.a.createElement(de.a.Group,{controlId:"create-room-form-type"},r.a.createElement(de.a.Label,null,r.a.createElement("strong",null,"Select Room Type:")),i,o&&r.a.createElement(me.a,{variant:"danger"},n.error))},Tt=function(e){var t=e.input,n=e.meta,a=n.touched&&n.error,o=!n.pristine&&!a;return r.a.createElement(fe.a,{controlId:"create-room-form-name"},r.a.createElement(de.a.Label,null,r.a.createElement("strong",null,e.label)),r.a.createElement(pe.a,Object.assign({},e,t,{isInvalid:a,isValid:o})),r.a.createElement(de.a.Control.Feedback,{size:"lg",type:"invalid"},n.error))},Pt=Object(ge.a)({form:"createRoomForm",validate:function(e){var t={};return e.roomName||(t.roomName="Room name cannot be empty"),e.roomType||(t.roomType="Please choose one of the room types above"),t}})((function(e){return r.a.createElement(de.a,{noValidate:!0,id:"create-room-form",onSubmit:e.handleSubmit(e.onFormSubmit)},r.a.createElement(he.a,{component:Tt,name:"roomName",label:"Enter Room Name:",placeholder:"Example: room_for_dolphins",required:!0}),r.a.createElement("hr",null),r.a.createElement(he.a,{component:xt,options:Dt,name:"roomType"}))})),_t=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).state={alert:{show:!1}},n.onFormSubmit=function(e){var t=e.roomName,a=e.roomType;n.props.createRoom(t,a,n.onSuccess,n.onFailure)},n.onSuccess=function(){n.showAlert("success","Your room was successfully created")},n.onFailure=function(){n.showAlert("danger","Oops! Your room couldn't be created")},n.showAlert=function(e,t){n.setState({alert:{show:!0,variant:e,body:t}})},n.hideAlert=function(){n.setState({alert:{show:!1}})},n.onCancelButtonClick=function(){n.hideAlert(),n.props.hideModal()},n.getAlertDismissAction=function(){return n.state.alert.show?"danger"===n.state.alert.variant?null:r.a.createElement(F.a,{variant:"outline-success",onClick:function(){n.hideAlert(),n.props.hideModal()}},"Back to home"):null},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"getModalActions",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.onCancelButtonClick},"Cancel"),r.a.createElement(F.a,{form:"create-room-form",type:"submit"},"Create Room"))}},{key:"getModalContent",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,Object.assign({},this.state.alert,{onDismiss:this.hideAlert,dismissAction:this.getAlertDismissAction})),r.a.createElement(Pt,{onFormSubmit:this.onFormSubmit}))}},{key:"render",value:function(){return r.a.createElement(It,{header:"Create Room",actions:this.getModalActions(),content:this.getModalContent(),visible:this.props.isModalVisible,hideModal:this.props.hideModal})}}]),t}(r.a.Component),Ut=Object(s.b)((function(e){return{isModalVisible:e.modal.isModalOpen&&"CreateRoom"===e.modal.modalName}}),{createRoom:Lt,hideModal:ie})(_t),Bt=function(e,t,n,a,r){return function(a){return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,U.a.awrap(Te(e,(function(o){"ok"===o.status?(a({type:"JOIN_ROOM",payload:e}),t()):"permission_pending"===o.status?n():r(o.reason)})));case 2:case"end":return o.stop()}}))}},Vt=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",isFormLoading:!1},n.onFormSubmit=function(e){e.preventDefault(),n.setState({isFormLoading:!0}),n.props.tryJoiningRoom(n.state.inputValue,n.props.onSuccess,n.props.onPermissionPending,n.props.onJoinRoomPermissionRecieved,n.props.onFailure)},n.inputChanged=function(e){n.setState({inputValue:e.target.value,errorMessage:null})},n.onCancelButtonClick=function(){n.setState({inputValue:"",isFormLoading:!1}),n.props.hideModal()},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"getModalActions",value:function(){var e=this.state.isFormLoading?"disabled":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"ui button",onClick:this.onCancelButtonClick},"Cancel"),r.a.createElement("button",{type:"submit",form:"join-room-form",className:"ui button orange ".concat(e)},"Join"))}},{key:"getModalContent",value:function(){var e=this.state.isFormLoading?"loading":"";return r.a.createElement("form",{className:"ui form ".concat(e),id:"join-room-form",onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,"Enter Room ID:"),r.a.createElement("input",{type:"text",placeholder:"Room Number",value:this.state.inputValue,onChange:this.inputChanged,autoFocus:!0,required:!0})))}},{key:"render",value:function(){return r.a.createElement(It,{header:"Join Room",actions:this.getModalActions(),content:this.getModalContent(),visible:this.props.isModalVisible,hideModal:this.props.hideModal})}}]),t}(r.a.Component),Jt=Object(s.b)((function(e){return{isModalVisible:e.modal.isModalOpen&&"JoinRoom"===e.modal.modalName}}),{tryJoiningRoom:Bt,hideModal:ie})(Vt),Gt=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).mustMatchRoomName=function(e){var t=n.props.room;return t&&e===t.name?void 0:"Room name not equal"},n.renderRoomNameField=function(e){return r.a.createElement(fe.a,{controlId:"delete-room-form-name"},r.a.createElement(de.a.Label,null,r.a.createElement("strong",null,e.label)),r.a.createElement(pe.a,Object.assign({},e,e.input)))},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(de.a,{noValidate:!0,id:"delete-room-form",onSubmit:this.props.handleSubmit(this.props.onFormSubmit)},r.a.createElement(he.a,{component:this.renderRoomNameField,name:"roomName",label:"Room Name:",placeholder:"Enter Room name here",required:!0,validate:this.mustMatchRoomName}))}}]),t}(r.a.Component),Ht=Object(ge.a)({form:"deleteRoomForm"})(Gt),qt=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).state={deleteRoomStatus:"initial"},n.onFormSubmit=function(e){console.log("formValues: ",e);var t=n.props.modalProps.room;t||n.setState({deleteRoomStatus:"fail"}),n.props.deleteRoom(t.roomId,n.onDeleteRoomSuccess,n.onDeleteRoomFail),n.setState({deleteRoomStatus:"pending"})},n.onDeleteRoomSuccess=function(){n.setState({deleteRoomStatus:"success"})},n.onDeleteRoomFail=function(e){var t=e.response;console.log("fail: ",t),n.setState({deleteRoomStatus:"fail"})},n.onCancelButtonClick=function(){"success"===n.state.deleteRoomStatus&&n.props.onDeleteRoomSuccess(),n.props.hideModal()},n.getPropsForButtonWithLeadingIcon=function(){var e,t;switch(n.state.deleteRoomStatus){case"pending":e=r.a.createElement(Ye.a,{animation:"border",size:"sm"}),t="Deleting Room...";break;case"success":e=r.a.createElement(L.a,{icon:D.b}),t="Room Deleted";break;case"fail":e=r.a.createElement(L.a,{icon:D.h}),t="Room Deletion Failed";break;default:return{}}return{icon:e,content:t}},n}return Object(R.a)(t,e),Object(j.a)(t,[{key:"getDeleteButtonMeta",value:function(){var e=this.props.deleteRoomForm,t=e?e.syncErrors:null,n=t&&t.roomName;switch(this.state.deleteRoomStatus){case"initial":return{variant:"danger",disabled:n,style:{cursor:n?"not-allowed":"pointer"},form:"delete-room-form",type:"submit"};case"pending":return{variant:"info",disabled:!0,style:{cursor:"not-allowed"}};case"success":return{variant:"success",disabled:!0,style:{cursor:"not-allowed"}};case"fail":return{variant:"danger",disabled:!0,style:{cursor:"not-allowed"}};default:return null}}},{key:"renderDeleteButton",value:function(){var e=this.getDeleteButtonMeta(),t=Object(h.a)({},this.getPropsForButtonWithLeadingIcon(),{buttonProps:e});switch(this.state.deleteRoomStatus){case"initial":return r.a.createElement(F.a,e,"Delete Room");default:return r.a.createElement(Xe,t)}}},{key:"getModalActions",value:function(){var e=this.state.deleteRoomStatus,t="success"===e||"fail"===e?"Go Back":"Cancel";return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"outline-secondary",onClick:this.onCancelButtonClick},t),this.renderDeleteButton())}},{key:"getModalContent",value:function(){var e=this.props.modalProps.room,t=e?e.name:"<unknown>";return r.a.createElement(Ge.a,null,r.a.createElement(Je.a,{sm:12},r.a.createElement(Ht,{onFormSubmit:this.onFormSubmit,room:e})),r.a.createElement(Je.a,null,"To delete the room ",r.a.createElement("strong",null,t)," type in the name of the room above"))}},{key:"render",value:function(){return r.a.createElement(It,{header:"Delete Room",actions:this.getModalActions(),content:this.getModalContent(),visible:this.props.isModalVisible,hideModal:this.props.hideModal})}}]),t}(r.a.Component),zt=Object(s.b)((function(e){var t=e.modal;return{isModalVisible:t.isModalOpen&&"DeleteRoom"===t.modalName,modalProps:t.modalProps,deleteRoomForm:e.form.deleteRoomForm}}),{hideModal:ie,deleteRoom:function(e,t,n){return function(a){return U.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:W(e).then((function(n){t(),a({type:"DELETE_ROOM",payload:e})})).catch(n);case 1:case"end":return r.stop()}}))}}})(qt),Wt=Object(s.b)((function(e){return{modal:e.modal}}))((function(e){return e.modal.isModalOpen?function(e){switch(e){case"CreateRoom":return r.a.createElement(Ut,null);case"JoinRoom":return r.a.createElement(Jt,null);case"DeleteRoom":return r.a.createElement(zt,null);default:return null}}(e.modal.modalName):null})),Yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Kt=Object(i.e)(y,Yt(Object(i.a)(l.a)));c.a.render(r.a.createElement(s.a,{store:Kt},r.a.createElement(Nt,null),r.a.createElement(Wt,null)),document.querySelector("#root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.cc9be7d1.chunk.js.map