{"version":3,"sources":["redux/reducers/serverReducer.js","redux/reducers/roomReducer.js","redux/reducers/notificationReducer.js","redux/reducers/userReducer.js","redux/reducers/modalReducer.js","redux/reducers/roomListDisplaySettingsReducer.js","redux/reducers/index.js","redux/action-constants.js","components/hoc/WithModalTrigger/WithModalTrigger-View.js","redux/actions/modal-actions/hideModal.js","components/hoc/WithModalTrigger/WithModalTrigger-Redux.js","redux/actions/modal-actions/showModal.js","components/hoc/WithModalTrigger/index.js","components/hoc/WithLink.js","components/standalone/RoomModalTriggers/CreateRoomModalTrigger.js","components/standalone/RoomModalTriggers/JoinRoomModalTrigger.js","components/standalone/RoomModalTriggers/DeleteRoomModalTrigger.js","components/LandingPage/LandingPage-View.js","components/LandingPage/index.js","components/standalone/DismissibleAlert.js","components/standalone/Dropdown.js","components/standalone/TooltipWrapper.js","components/standalone/TextInputWordWrap/index.js","components/standalone/ToggleablePasswordField.js","components/standalone/ProgressButton/ProgressButtonInitial.js","components/standalone/IconButton.js","components/standalone/ProgressButton/ProgressButtonPending.js","components/standalone/ProgressButton/ProgressButtonSuccess.js","components/standalone/ProgressButton/ProgressButtonFailure.js","components/standalone/ProgressButton/ProgressButton.js","components/standalone/ProgressButton/index.js","components/standalone/WithoutNavigateProp.js","components/Header/components/NotificationListItem/NotificationListItem-View.js","components/Header/components/NotificationListItem/index.js","components/Header/components/NotificationList/NotificationList-View.js","components/Header/components/NotificationList/index.js","components/Header/components/NotificationIcon/NotificationIcon-View.js","components/Header/components/NotificationIcon/NotificationIcon-Redux.js","components/Header/components/NotificationIcon/index.js","components/Header/components/UserIcon/UserIcon-View.js","server-communication/httpServer.js","redux/actions/user-actions/updateUser.js","components/Header/components/UserIcon/UserIcon-Redux.js","redux/actions/user-actions/logoutUser.js","components/Header/components/UserIcon/index.js","components/Header/Header-View.js","components/Header/Header-Redux.js","components/Header/index.js","components/hoc/WithLayout.js","routes/root/Route-Root.js","routes/root/index.js","components/Login/components/LoginForm/index.js","components/Login/components/LoginForm/validate.js","components/Login/Login-View.js","components/Login/Login-Redux.js","redux/actions/user-actions/loginUser.js","components/Login/Login-Container.js","components/Login/index.js","routes/login/Route-Login.js","routes/login/index.js","constants/serverEventConstants.js","server-communication/socketServer.js","components/Register/components/RegistrationForm/RegistrationForm-View.js","components/Register/components/RegistrationForm/asyncValidate.js","components/Register/components/RegistrationForm/RegistrationForm-Redux.js","components/Register/components/RegistrationForm/validate.js","components/Register/components/RegistrationForm/index.js","components/Register/Register-View.js","components/Register/Register-Redux.js","redux/actions/user-actions/registerUser.js","components/Register/index.js","routes/register/Route-Register.js","routes/register/index.js","components/Room/components/ChatMessageForm/ChatMessageForm-View.js","components/Room/components/ChatMessageForm/ChatMessageForm-Redux.js","components/Room/components/ChatMessageForm/index.js","components/Room/components/Message/Message-View.js","components/Room/components/Message/Message-Redux.js","components/Room/components/Message/index.js","components/Room/components/ChatWindow/ChatWindow-View.js","components/Room/components/ChatWindow/utils.js","components/Room/components/ChatWindow/ChatWindow-Container.js","components/Room/components/ChatWindow/index.js","components/Room/components/RoomHeader/index.js","components/Room/components/RoomHeader/RoomHeader-View.js","redux/actions/room-actions/joinRoom.js","components/standalone/RoomActionButtons/CreateRoomButton.js","components/standalone/RoomActionButtons/DeleteRoomButton.js","components/standalone/RoomActionButtons/JoinRoomButton.js","components/standalone/RoomActionButtons/LeaveRoomButton.js","components/standalone/RoomActionButtons/SendRoomJoinRequestButton.js","components/Room/components/RoomNotJoined/RoomNotJoined-View.js","components/Room/components/RoomNotJoined/RoomNotJoined-Container.js","components/Room/components/RoomNotJoined/index.js","components/Room/components/RoomNotJoined/RoomNotJoined-Redux.js","components/Room/Room-View.js","components/Room/utils/isRoomMember.js","helpers/sendMessage.js","components/Room/Room-Container.js","components/Room/index.js","components/Room/Room-Redux.js","redux/actions/room-actions/fetchRoom.js","components/RoomList/components/EmptyRoomList/EmptyRoomList-View.js","components/RoomList/components/EmptyRoomList/index.js","components/RoomList/components/RoomListItemActions/RoomListItemActions-View.js","components/RoomList/components/RoomListItemActions/RoomListItemActions-Redux.js","components/RoomList/components/RoomListItemActions/index.js","helpers/convertISODateToReadableString.js","components/RoomList/components/RoomListItem/RoomListItem-View.js","components/RoomList/components/RoomListItem/RoomListItem-Container.js","components/RoomList/components/RoomListItem/index.js","components/RoomList/components/RoomListItem/RoomListItem-Redux.js","components/RoomList/components/RoomListControlsForm/index.js","components/RoomList/components/RoomListControlsHeader/SortRoomDropdownButton.js","components/RoomList/components/RoomListSearchField/index.js","components/RoomList/components/RoomListSearchField/RoomListSearchField-View.js","components/RoomList/components/RoomListControlsHeader/index.js","components/RoomList/components/RoomListControlsHeader/RoomListControlsHeader-View.js","components/RoomList/components/RoomListPagination/index.js","components/RoomList/components/RoomListPagination/RoomListPagination-View.js","components/RoomList/components/RoomListPagination/utils.js","components/RoomList/RoomList-View.js","components/RoomList/utils/sort.js","components/RoomList/RoomList-Redux.js","helpers/logger.js","components/RoomList/index.js","redux/actions/room-actions/fetchPublicRooms.js","redux/actions/room-list-display-settings-actions/setSortTechnique.js","redux/actions/room-list-display-settings-actions/setCurrentPageNumber.js","redux/actions/room-list-display-settings-actions/setSearchQuery.js","routes/rooms/Route-Rooms.js","routes/rooms/index.js","routes/index.js","components/App/App-View.js","components/App/App-Container.js","components/App/App-Redux.js","redux/actions/server-actions/connectToServer.js","components/App/index.js","components/modals/GenericModal.js","components/modals/CreateRoomModal/components/CreateRoomForm/CreateRoomForm-View.js","components/modals/CreateRoomModal/components/CreateRoomForm/index.js","components/modals/CreateRoomModal/components/CreateRoomForm/CreateRoomForm-Redux.js","components/modals/CreateRoomModal/components/CreateRoomForm/validate.js","components/modals/CreateRoomModal/CreateRoomModal-View.js","components/modals/CreateRoomModal/CreateRoomModal-Container.js","components/modals/CreateRoomModal/index.js","components/modals/CreateRoomModal/CreateRoomModal-Redux.js","redux/actions/room-actions/createRoom.js","components/modals/JoinRoomModal/components/JoinRoomForm/JoinRoomForm-View.js","components/modals/JoinRoomModal/components/JoinRoomForm/asyncValidate.js","components/modals/JoinRoomModal/components/JoinRoomForm/index.js","components/modals/JoinRoomModal/components/JoinRoomForm/JoinRoomForm-Redux.js","components/modals/JoinRoomModal/JoinRoomModal-View.js","components/modals/JoinRoomModal/JoinRoomModal-Container.js","helpers/isRoomMember.js","components/modals/JoinRoomModal/index.js","components/modals/JoinRoomModal/JoinRoomModal-Redux.js","components/modals/DeleteRoomModal/components/DeleteRoomForm/DeleteRoomForm-View.js","components/modals/DeleteRoomModal/components/DeleteRoomForm/DeleteRoomForm-Redux.js","components/modals/DeleteRoomModal/components/DeleteRoomForm/validate.js","components/modals/DeleteRoomModal/components/DeleteRoomForm/index.js","components/modals/DeleteRoomModal/DeleteRoomModal-View.js","components/modals/DeleteRoomModal/DeleteRoomModal-Redux.js","redux/actions/room-actions/deleteRoom.js","components/modals/DeleteRoomModal/index.js","components/modals/DeleteRoomModal/DeleteRoomModal-Container.js","components/modals/LeaveRoomModal/LeaveRoomModal-View.js","components/modals/LeaveRoomModal/LeaveRoomModal-Redux.js","redux/actions/room-actions/leaveRoom.js","components/modals/LeaveRoomModal/index.js","components/modals/LeaveRoomModal/LeaveRoomModal-Container.js","components/modals/ModalContainer.js","index.js"],"names":["INITIAL_STATE","connected","handleRoomMemberUpdate","state","payload","roomId","updatedMembers","members","length","data","isLoggedIn","user","isModalOpen","modalName","modalProps","sortBy","itemsPerPage","currentPageNumber","searchQuery","combineReducers","action","type","serverConnection","rooms","_","mapKeys","room","omit","roomListDisplaySettings","notifications","id","metadata","console","log","form","formReducer","modal","WithModalTriggerView","props","showModal","component","children","rest","Component","onClick","connect","WithModalTrigger","to","shouldUseReplace","history","useHistory","replace","push","Button","variant","LandingPage","className","CreateRoomModalTrigger","JoinRoomModalTrigger","shouldShowDismissIcon","dismissAction","Alert","show","onClose","onDismiss","dismissible","Heading","heading","body","OverlayTrigger","trigger","placement","rootClose","overlay","Popover","Title","as","title","Content","menu","triggerComponent","label","Tooltip","TextInputWordWrap","autosize","this","textareaRef","FormControl","input","rows","ref","el","React","ToggleablePasswordField","formProps","error","useState","passwordVisible","setPasswordVisibility","FormLabel","InputGroup","Append","style","cursor","Text","icon","faEye","faEyeSlash","display","Feedback","ProgressButtonInitial","IconButton","iconPos","childrenProps","isIconLeft","Row","Col","whiteSpace","Spinner","animation","size","disabled","ProgressButtonSuccess","faCheckCircle","faTimesCircle","ProgressButton","progress","propsProgressInitial","propsProgressPending","propsProgressSuccess","propsProgressFailure","otherProps","ProgressButtonPending","ProgressButtonFailure","navigate","CustomItem","forwardRef","NotificationListItemView","notification","DropdownItem","content","NotificationListItem","NotificationListView","Object","keys","map","key","NotificationList","NotificationIconView","Dropdown","badgeVisibility","faBell","faIdBadge","getNotificationIcon","NotificationIcon","UserIconView","username","logoutUser","UserIcon","faUser","axios","Axios","create","withCredentials","registerUser","password","confirmPassword","onRequestFulfilled","onRequestRejected","post","then","loginUser","getRoom","get","createRoom","roomName","roomType","deleteRoom","delete","onGetCurrentUserSuccess","userResponse","dispatch","loginResponse","actionUpdateUser","response","a","async","RegisterButton","withoutNavigateProp","LoginButton","HeaderView","isUserRegistered","isUserLoggedIn","asNavItem","Nav","Item","Container","fluid","Navbar","expand","sticky","Brand","Link","isRegistered","Header","LayoutEnhancer","RouteRoot","withLayout","renderField","meta","formControlProps","touched","pristine","hasErrors","isInvalid","isValid","getFormControlProps","Form","Label","reduxForm","validate","value","errors","onSubmit","handleSubmit","onFormSubmit","FormGroup","controlId","Field","name","placeholder","LoginView","shouldShowErrorAlert","errorReason","onErrorAlertDismissed","DismissibleAlert","renderLoginView","LoginRedux","formValues","onLoginFailure","onFailureCallback","LoginContainer","setState","reason","RouteLogin","Login","socket","openSocket","autoConnect","connectToServer","onConnectionFailed","on","asyncValidating","isAsyncValidationError","getPropsForFormControl","RegistrationForm","isRegisterButtonDisabled","registerButtonCursorStyle","noValidate","values","hasPasswordMismatch","errMsg","asyncValidate","Promise","resolve","reject","callback","status","emit","events","asyncChangeFields","submitting","invalid","RedirectToHome","RedirectToLogin","pathname","isRedirectFromSuccessfulRegister","renderRedirect","RegisterContainer","onRegistrationFailed","Register","RouteRegister","renderMessageField","ChatMessageFormView","formId","Group","FORM_ID","onSubmitSuccess","reset","ChatMessageFormRedux","Message","message","align","color","isCurrentUserMessageAuthor","messageAuthor","author","messageArrow","borderAttr","borderRight","borderLeft","renderMessageArrow","ListGroup","border","backgroundColor","MessageRedux","userId","_id","messageAlignment","ChatWindow","colorsAssignedToMessageAuthors","messages","colors","colorChoicesExhausted","usedColors","isColorUsed","randomColor","indexOf","assignColorsRandomly","assignedKeys","forEach","randomIndex","Math","floor","random","getRandomColor","ChatWindowContainer","randomAuthorColors","assignRandomColorsToMessageAuthors","messageAuthors","RoomHeaderView","tooltipLabel","tooltipId","FontAwesomeIcon","faSignOutAlt","faPlus","WithLink","faWindowClose","TooltipWrapper","onSuccess","onFailure","joinRoom","catch","CreateRoomButton","propsInit","propsPending","propsSuccess","propsFailure","constructProps","DeleteRoomButton","JoinRoomButton","LeaveRoomButton","RoomNotJoinedView","joinRoomProgress","onJoinRoomButtonClick","isPrivateRoom","possibleActionText","faSadCry","ButtonGroup","getJoinRoomButton","RoomNotJoinedContainer","onJoinRoomPending","onJoinRoomSuccess","onJoinRoomFail","RoomNotJoined","renderRoom","currentUser","onSendMessageButtonClick","ChatMessageForm","renderRoomContent","Room","renderErrorScreen","queryUserId","findIndex","member","isRoomMember","addMessageToRoom","messageId","sendMessage","RoomContainer","onRoomFetchFail","trim","onSendMessageSuccess","onSendMessageFailure","fetchRoom","args","subEvent","registerNewMessageListener","onRoomFetchSuccess","ownProps","titleSubtitleTemplate","subtitle","EmptyRoomList","isSearchResult","renderEmptyRoomListView","RoomListItemActions","isCurrentUserRoomMember","isCurrentUserRoomAdmin","restProps","getOpenRoomAction","DeleteRoomModalTrigger","getDeleteRoomAction","getJoinRoomAction","getActionsForNonRoomMember","RoomListItemActionsRedux","getMemberReferenceOfCurrentUser","find","roomMember","currentUserMemberReference","isEmpty","memberType","isoDate","argDate","Date","oneDate","otherDate","Error","timeDiffData","differenceInYears","getYear","unit","difference","differenceInMonths","getMonth","differenceInDays","getDate","differenceInHours","getHours","differenceInMinutes","getMinutes","differenceInSeconds","getSeconds","getAppropriateTimeDifferenceData","getAppropriateTimeDifferenceText","RoomListItem","ListGroupItem","roomOwner","createdBy","roomCreatedBy","roomCreatedAt","convertISODateToReadableString","createdAt","getSubtitle","RoomListItemContainer","onJoinRoomFailure","RoomListControlsForm","renderRadioButton","FormCheck","checkboxProps","checked","required","renderRadioButtonFields","initialValues","destroyOnUnmount","SortRoomDropdownButton","onSortFormSubmit","document","click","faSort","RoomListControlsSearchField","onSearchFieldInputChange","Prepend","faSearch","onChange","RoomListControlsHeader","RoomListSearchField","RoomListPagination","totalRooms","setCurrentPageNumber","totalPages","ceil","Pagination","First","Prev","max","paginationItems","pageIndex","active","leftOffset","MAX_PAGE_NUMBERS_DISPLAYED","getLeftOffset","rightOffset","getRightOffset","offsets","left","right","MAX_ALLOWED_PAGE_OFFSET","getPaginationOffsets","rightEllipsis","Ellipsis","leftEllipsis","slice","getPaginationItems","Next","min","Last","RoomList","roomsToDisplay","pageNumber","otherRoom","localeCompare","logger","loggerKey","RoomListContainer","debug","getSortedRoomList","sort","roomSortingTechniques","reverse","setSortTechnique","e","setSearchQuery","target","getPaginatedRoomList","sortedRooms","offset","getSearchQuery","toLowerCase","filterRoomListBySearchQuery","roomList","filter","includes","getRooms","fetchPublicRooms","paginatedRooms","technique","renderRoomCol","xs","sm","xl","lg","md","getRoomColProps","RouteRooms","match","params","getRoomListColProps","renderRoomListCol","AppRouter","exact","path","App","serverConnectionFailed","AppContainer","onServerConnected","onServerDisconnected","updateUser","mapDispatchToProps","GenericModal","visible","hideModal","header","actions","Modal","onHide","centered","closeButton","Body","Footer","renderRadioButtonGroup","impureFormNoErrors","radioInputs","option","Check","radioOption","createHelp","tooltipProps","helpIcon","faQuestionCircle","renderRadioOptionHelp","renderRoomNameField","Control","CreateRoomFormView","CreateRoomForm","CreateRoomModalView","isModalVisible","createRoomFormData","createRoomProgress","syncErrors","getModalActions","CreateRoomModalContainer","onCreateRoomPending","onCreateRoomSuccess","onCreateRoomFailure","CreateRoomModal","hideModalAction","renderJoinRoomField","roomAlreadyJoinedError","ensureNotEmpty","undefined","JoinRoomFormView","createError","isPrivateRoomError","JoinRoomForm","getErrorFromResponse","JoinRoomModalView","joinRoomFormData","asyncErrors","roomActionButtonProps","SendRoomJoinRequestButton","getRoomActionButton","JoinRoomModalContainer","onJoinRoomFormSubmit","currentUserId","JoinRoomModal","otherFormProps","DeleteRoomFormView","DeleteRoomFormRedux","deleteRoomFieldValidate","userEnteredRoomName","deleteRoomForm","deleteRoomFormData","DeleteRoomForm","DeleteRoomModalView","deleteRoomProgress","cancelButtonText","renderDeleteButton","getModalContent","DeleteRoomModalRedux","onDeleteRoomFormSubmit","onDeleteRoomPending","onDeleteRoomSuccess","onDeleteRoomFail","DeleteRoomModal","LeaveRoomModalView","onLeaveRoomButtonClick","leaveRoomProgress","leaveRoom","getState","memberId","memberDocOfUser","i","getMemberDocOfUser","onLeaveRoomPending","onLeaveRoomSuccess","onLeaveRoomFail","LeaveRoomModal","getModalComponentToShow","composeEnhanchers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.afb17918.chunk.js","sourcesContent":["import { CONNECT_TO_SERVER } from '../action-constants';\n\nconst INITIAL_STATE = {\n    connected: false\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    if (action.type === CONNECT_TO_SERVER) {\n        return {connected: action.payload.connected}\n    }\n\n    return state;\n}","import _ from 'lodash'\n\nimport {\n    DELETE_ROOM,\n    FETCH_PUBLIC_ROOMS,\n    LEAVE_ROOM,\n    JOIN_ROOM,\n    FETCH_ROOM\n} from '../action-constants';\n\nconst handleRoomMemberUpdate = (state, payload) => {\n    const { roomId, updatedMembers } = payload\n    return {\n        ...state,\n        [roomId]: {\n            ...state[roomId],\n            members: updatedMembers\n        }\n    }\n}\n\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case FETCH_PUBLIC_ROOMS:\n            return { ...state, ..._.mapKeys(action.payload, 'roomId') }\n        case FETCH_ROOM:\n            const room = action.payload\n            return { ...state, [room.roomId]: room }\n        case DELETE_ROOM:\n            return _.omit(state, action.payload)\n        case LEAVE_ROOM:\n            return handleRoomMemberUpdate(state, action.payload)\n        case JOIN_ROOM:\n            return handleRoomMemberUpdate(state, action.payload)\n        default:\n            return state;\n    }\n}","import { CREATE_NOTIFICATION } from '../action-constants';\n\nconst INITIAL_STATE = { length: 0, data: {} }\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case CREATE_NOTIFICATION:\n            const { id, ...metadata } = action.payload;\n            console.log('id: ' + id + \"\\nmetadata:\");\n            console.log(metadata)\n            return {\n                ...state,\n                length: state.length + 1,\n                data: { ...state.data, [id]: metadata }\n            };\n\n        default:\n            return state;\n    }\n}","import { LOGIN, UPDATE_USER, LOGOUT, REGISTER } from '../action-constants';\n\nconst INITIAL_STATE = {\n    isLoggedIn: false,\n    user: {}\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case LOGIN:\n            return { isLoggedIn: true, user: action.payload.user }\n        case LOGOUT:\n            return INITIAL_STATE\n        case REGISTER:\n            return { isLoggedIn: false, user: action.payload }\n        case UPDATE_USER:\n            //Update only what is provided in payload\n            return { ...state, ...action.payload }\n        default:\n            return state;\n    }\n}","import { SHOW_MODAL, HIDE_MODAL } from '../action-constants'\n\nconst INITIAL_STATE = {\n    isModalOpen: false,\n    modalName: null,\n    modalProps: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SHOW_MODAL:\n            return {\n                isModalOpen: true,\n                ...action.payload\n            }\n\n        case HIDE_MODAL:\n            return INITIAL_STATE\n\n        default:\n            return state\n    }\n}","import {\n    SET_ROOM_LIST_SORT_TECHNIQUE,\n    SET_ROOM_LIST_ITEMS_PER_PAGE,\n    SET_ROOM_LIST_CURRENT_PAGE_NUMBER,\n    SET_ROOM_LIST_SEARCH_QUERY\n} from '../action-constants'\n\nconst INITIAL_STATE = {\n    sortBy: 'name-asc',\n    itemsPerPage: 10,\n    currentPageNumber: 1,\n    searchQuery: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SET_ROOM_LIST_SORT_TECHNIQUE:\n            return { ...state, sortBy: action.payload }\n        case SET_ROOM_LIST_ITEMS_PER_PAGE:\n            return { ...state, itemsPerPage: action.payload }\n        case SET_ROOM_LIST_CURRENT_PAGE_NUMBER:\n            return { ...state, currentPageNumber: action.payload }\n        case SET_ROOM_LIST_SEARCH_QUERY:\n            return { ...state, searchQuery: action.payload }\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\n\nimport serverReducer from './serverReducer';\nimport roomReducer from './roomReducer';\nimport notificationReducer from './notificationReducer';\nimport userReducer from './userReducer';\nimport modalReducer from './modalReducer';\nimport roomListDisplaySettingsReducer from './roomListDisplaySettingsReducer'\n\nexport default combineReducers({\n    user: userReducer,\n    serverConnection: serverReducer,\n    rooms: roomReducer,\n    roomListDisplaySettings: roomListDisplaySettingsReducer,\n    notifications: notificationReducer,\n    form: formReducer,\n    modal: modalReducer\n})\n","export const CONNECT_TO_SERVER = \"CONNECT_TO_SERVER\";\n\nexport const FETCH_PUBLIC_ROOMS = 'FETCH_PUBLIC_ROOMS'\nexport const FETCH_ROOM = 'FETCH_ROOM'\nexport const CREATE_ROOM = \"CREATE_ROOM\";\nexport const DELETE_ROOM = 'DELETE_ROOM'\nexport const JOIN_ROOM = \"JOIN_ROOM\";\nexport const LEAVE_ROOM = \"LEAVE_ROOM\";\n\nexport const CREATE_NOTIFICATION = \"CREATE_NOTIFICATION\";\n\nexport const UPDATE_USER = \"UPDATE_USER\";\nexport const LOGIN = \"LOGIN\"\nexport const LOGOUT = \"LOGOUT\"\nexport const REGISTER = \"REGISTER\"\n\nexport const SHOW_MODAL = 'SHOW_MODAL'\nexport const HIDE_MODAL = 'HIDE_MODAL'\n\nexport const SET_ROOM_LIST_SORT_TECHNIQUE = 'SET_ROOM_LIST_SORT_TECHNIQUE'\nexport const SET_ROOM_LIST_ITEMS_PER_PAGE = 'SET_ROOM_LIST_ITEMS_PER_PAGE'\nexport const SET_ROOM_LIST_CURRENT_PAGE_NUMBER = 'SET_ROOM_LIST_CURRENT_PAGE'\nexport const SET_ROOM_LIST_SEARCH_QUERY = 'SET_ROOM_LIST_SEARCH_QUERY'","import React from 'react'\n\nconst WithModalTriggerView = (props) => {\n    const { showModal, modalName, modalProps, component, children, ...rest } = props\n    const Component = component\n    return (\n        <Component onClick={() => showModal(modalName, modalProps)} {...rest}>\n            {children}\n        </Component>\n    )\n}\n\nexport default WithModalTriggerView\n\n","import { HIDE_MODAL } from '../../action-constants'\n\nexport default _ => {\n    return { type: HIDE_MODAL }\n}","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport WithModalTriggerView from './WithModalTrigger-View'\nimport { showModal } from '../../../redux/actions/modal-actions'\n\nconst WithModalTriggerRedux = (props) => {\n    return <WithModalTriggerView {...props} />\n}\n\nexport default connect(null, { showModal })(WithModalTriggerRedux)\n\n","import { SHOW_MODAL } from '../../action-constants'\n\nexport default (modalName, modalProps) => {\n    return {\n        type: SHOW_MODAL,\n        payload: { modalName, modalProps }\n    }\n}","import WithModalTrigger from './WithModalTrigger-Redux'\n\nexport default WithModalTrigger","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport default (props) => {\n    const { to, shouldUseReplace, component, children, ...rest } = props\n    const Component = component\n\n    const history = useHistory()\n    const onClick = () => {\n        return shouldUseReplace ? history.replace(to) : history.push(to)\n    }\n\n    return (\n        <Component onClick={onClick} {...rest}>\n            {children}\n        </Component>\n    )\n}","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nimport { WithModalTrigger } from '../../hoc'\n\nexport default ({ component, children, ...rest }) => {\n    return (\n        <WithModalTrigger\n            modalName='CreateRoom'\n            component={component || Button}\n            {...rest}\n        >\n            {children}\n        </WithModalTrigger>\n    )\n}","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nimport { WithModalTrigger } from '../../hoc'\n\nexport default ({ component, children, ...rest }) => {\n    return (\n        <WithModalTrigger\n            modalName='JoinRoom'\n            component={component || Button}\n            {...rest}\n        >\n            {children}\n        </WithModalTrigger>\n    )\n}","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nimport { WithModalTrigger } from '../../hoc'\n\nexport default ({ component, children, room, ...rest }) => {\n    return (\n        <WithModalTrigger\n            modalName='DeleteRoom'\n            modalProps={{ room }}\n            component={component || Button}\n            variant='danger'\n            {...rest}\n        >\n            {children}\n        </WithModalTrigger>\n    )\n}","import React from 'react';\n\nimport {\n    CreateRoomModalTrigger,\n    JoinRoomModalTrigger\n} from '../standalone/RoomModalTriggers'\n\nimport './LandingPage-Style.scss';\n\nconst LandingPage = () => {\n    return (\n        <div className=\"landing-page compensate-header\">\n            <div className=\"inner-wrapper\">\n                <p>Welcome to ChatRooms!</p>\n\n                <div className=\"buttons-container\">\n                    <CreateRoomModalTrigger>\n                        Create Room\n                    </CreateRoomModalTrigger>\n                    <JoinRoomModalTrigger variant='outline-primary'>\n                        Join Room By Id\n                    </JoinRoomModalTrigger>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LandingPage;\n","import LandingPage from './LandingPage-View'\n\nexport default LandingPage","import React from 'react'\nimport Alert from 'react-bootstrap/Alert'\n\nexport default (props) => {\n    const shouldShowDismissIcon = !props.dismissAction;\n    return (\n        <Alert show={props.show} variant={props.variant} onClose={props.onDismiss} dismissible={shouldShowDismissIcon}>\n            <Alert.Heading>{props.heading}</Alert.Heading>\n            <p>{props.body}</p>\n            <div className='d-flex justify-content-end'>\n                {props.dismissAction && props.dismissAction()}\n            </div>\n        </Alert>\n    )\n}","import React from 'react';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\n\nexport default (props) => {\n\n    const renderPopover = () => {\n        return (\n            <Popover>\n                <Popover.Title as=\"h2\">{props.title}</Popover.Title>\n                <Popover.Content>\n                    {props.menu}\n                </Popover.Content>\n            </Popover>\n        )\n    }\n\n    return (\n        <OverlayTrigger\n            trigger=\"click\"\n            placement=\"bottom\"\n            rootClose={true}\n            overlay={renderPopover()}\n        >\n            {props.triggerComponent}\n        </OverlayTrigger>\n    )\n}","import React from 'react';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\nexport default (props) => {\n    const { triggerComponent, label, id, ...rest } = props\n\n    const renderTooltip = () => {\n        return (\n            <Tooltip id={id}>\n                {label}\n            </Tooltip>\n        )\n    }\n\n    return (\n        <OverlayTrigger\n            trigger=\"hover\"\n            placement=\"bottom\"\n            rootClose={true}\n            overlay={renderTooltip()}\n            {...rest}\n        >\n            {triggerComponent}\n        </OverlayTrigger>\n    )\n}","import React from 'react';\nimport { FormControl } from 'react-bootstrap'\nimport autosize from 'autosize'\n\nimport './style.scss'\n\nclass TextInputWordWrap extends React.Component {\n\n    componentDidMount() {\n        autosize(this.textareaRef)\n    }\n\n    render() {\n        return (\n            <FormControl\n                {...this.props}\n                {...this.props.input}\n                as='textarea'\n                rows='1'\n                className='text-input-wrap'\n                ref={el => this.textareaRef = el}\n            />\n        )\n    }\n}\n\nexport default TextInputWordWrap;\n","import React, { useState } from 'react';\nimport { InputGroup, FormControl, FormLabel } from 'react-bootstrap'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\n\nconst ToggleablePasswordField = ({ formProps, error }) => {\n    const [passwordVisible, setPasswordVisibility] = useState(false)\n\n    const togglePasswordVisibility = () => {\n        setPasswordVisibility(!passwordVisible)\n    }\n\n    const renderDummyFormControlForFeedback = () => {\n        return (\n            <FormControl\n                {...formProps}\n                {...formProps.input}\n                style={{ display: 'none' }}\n            />\n        )\n    }\n\n    return (\n        <>\n            <FormLabel>{formProps.label}</FormLabel>\n            <InputGroup>\n                <FormControl\n                    {...formProps}\n                    {...formProps.input}\n                    type={passwordVisible ? 'text' : 'password'}\n                />\n                <InputGroup.Append onClick={togglePasswordVisibility} style={{ cursor: 'pointer' }}>\n                    <InputGroup.Text>\n                        <FontAwesomeIcon icon={passwordVisible ? faEye : faEyeSlash} />\n                    </InputGroup.Text>\n                </InputGroup.Append>\n            </InputGroup>\n            {renderDummyFormControlForFeedback()}\n            <FormControl.Feedback type=\"invalid\">{error}</FormControl.Feedback>\n        </>\n    )\n}\n\nexport default ToggleablePasswordField;\n","import React from 'react';\nimport { Button } from 'react-bootstrap'\n\nconst ProgressButtonInitial = ({ label, ...rest }) => {\n    return <Button {...rest}>{label || 'Initial'}</Button>\n}\n\nexport default ProgressButtonInitial;\n","import React from 'react';\nimport { Button, Row, Col } from 'react-bootstrap';\n\nconst ICON_POS_LEFT = 0;\nconst ICON_POS_RIGHT = 1;\n\nconst IconButton = ({ icon, iconPos, children, childrenProps, ...rest }) => {\n    const isIconLeft = iconPos === ICON_POS_LEFT\n    return (\n        <Button {...rest}>\n            <Row>\n                {isIconLeft ? <Col>{icon}</Col> : null}\n                <Col\n                    className={isIconLeft ? 'pl-0' : 'pr-0'}\n                    style={{ whiteSpace: 'nowrap' }}\n                >\n                    {children}\n                </Col>\n                {iconPos === ICON_POS_RIGHT ? <Col>{icon}</Col> : null}\n            </Row>\n        </Button>\n    )\n}\n\nexport { ICON_POS_RIGHT, ICON_POS_LEFT }\nexport default IconButton;\n","import React from 'react';\nimport { Spinner } from 'react-bootstrap'\n\nimport IconButton, { ICON_POS_LEFT } from '../IconButton'\n\nconst ProgressButtonInitial = ({ icon, iconPos, label, ...rest }) => {\n    return (\n        <IconButton\n            icon={icon || <Spinner animation='border' size='sm' />}\n            iconPos={iconPos || ICON_POS_LEFT}\n            style={{ cursor: 'not-allowed' }}\n            variant='info'\n            disabled\n            {...rest}\n        >\n            {label || 'Pending'}\n        </IconButton>\n    )\n}\n\nexport default ProgressButtonInitial;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport IconButton, { ICON_POS_LEFT } from '../IconButton'\n\nconst ProgressButtonSuccess = ({ icon, iconPos, label, ...rest }) => {\n    return (\n        <IconButton\n            icon={icon || <FontAwesomeIcon icon={faCheckCircle} />}\n            iconPos={iconPos || ICON_POS_LEFT}\n            style={{ cursor: 'not-allowed' }}\n            variant='success'\n            disabled\n            {...rest}\n        >\n            {label || 'Initial'}\n        </IconButton>\n    )\n}\n\nexport default ProgressButtonSuccess;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport IconButton, { ICON_POS_LEFT } from '../IconButton'\n\nconst ProgressButtonSuccess = ({ icon, iconPos, label, ...rest }) => {\n    return (\n        <IconButton\n            icon={icon || <FontAwesomeIcon icon={faTimesCircle} />}\n            iconPos={iconPos || ICON_POS_LEFT}\n            style={{ cursor: 'not-allowed' }}\n            variant='danger'\n            disabled\n            {...rest}\n        >\n            {label || 'Initial'}\n        </IconButton>\n    )\n}\n\nexport default ProgressButtonSuccess;\n","import React from 'react'\n\nimport ProgressButtonInitial from './ProgressButtonInitial'\nimport ProgressButtonPending from './ProgressButtonPending'\nimport ProgressButtonSuccess from './ProgressButtonSuccess'\nimport ProgressButtonFailure from './ProgressButtonFailure'\n\nconst PROGRESS_INITIAL = 'prog_init'\nconst PROGRESS_PENDING = 'prog_pending'\nconst PROGRESS_SUCCESS = 'prog_success'\nconst PROGRESS_FAIL = 'prog_fail'\n\nconst ProgressButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...otherProps\n}) => {\n    switch (progress) {\n        case PROGRESS_INITIAL:\n            return <ProgressButtonInitial {...propsProgressInitial} {...otherProps} />\n        case PROGRESS_PENDING:\n            return <ProgressButtonPending {...propsProgressPending} {...otherProps} />\n        case PROGRESS_SUCCESS:\n            return <ProgressButtonSuccess {...propsProgressSuccess} {...otherProps} />\n        case PROGRESS_FAIL:\n            return <ProgressButtonFailure {...propsProgressFailure} {...otherProps} />\n        default: return <ProgressButtonInitial label='Click Here' {...otherProps} />\n    }\n}\n\nexport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n}\n\nexport default ProgressButton","import ProgressButton, {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from './ProgressButton'\n\nexport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n}\nexport default ProgressButton","import React from 'react'\n\nexport default ({ navigate, ...rest }, Component) => {\n    return <Component {...rest} />\n}","import React from 'react';\nimport DropdownItem from 'react-bootstrap/DropdownItem';\n\nconst CustomItem = React.forwardRef(({ children, className, style }, ref) => (\n    <div\n        ref={ref}\n        className={className}\n        style={style}\n    >\n        {children}\n    </div>\n))\n\nconst NotificationListItemView = (props) => {\n    console.log(\"item. title: \" + props.notification.title)\n    return (\n        <>\n            <DropdownItem as={CustomItem}>\n                {props.notification.content}\n            </DropdownItem>\n            <hr />\n        </>\n    );\n}\n\nexport default NotificationListItemView;\n","import NotificationListItem from './NotificationListItem-View'\n\nexport default NotificationListItem","import React from 'react';\n\nimport NotificationListItem from '../NotificationListItem';\n\nconst NotificationListView= ({ notifications }) => {\n    const getNotificationData = () => {\n        if (notifications.length === 0) {\n            return \"You don't have any notifications\"\n        }\n\n        const notificationIdList = Object.keys(notifications.data)\n        return notificationIdList.map(id => {\n            const notification = notifications.data[id]\n            return <NotificationListItem key={id} notification={notification} />\n        })\n    }\n\n    return (\n        <div>\n            {getNotificationData()}\n        </div>\n    )\n}\n\nexport default NotificationListView;\n\n","import NotificationList from \"./NotificationList-View\";\n\nexport default NotificationList","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBell, faIdBadge } from '@fortawesome/free-solid-svg-icons';\n\nimport { Dropdown } from '../../../standalone'\nimport NotificationList from '../NotificationList'\nimport './NotificationIcon-Style.scss'\n\nconst NotificationIconView = ({ notifications }) => {\n    const getNotificationIcon = () => {\n        const badgeVisibility = notifications.length > 0 ? 'visible' : 'hidden'\n        return (\n            <FontAwesomeIcon icon={faBell} size=\"lg\">\n                <FontAwesomeIcon\n                    icon={faIdBadge}\n                    className={`notification-badge ${badgeVisibility}`}\n                />\n            </FontAwesomeIcon>\n        );\n    }\n\n    return (\n        <Dropdown\n            title=\"Notifications\"\n            menu={<NotificationList notifications={notifications} />}\n            triggerComponent={getNotificationIcon()}\n        />\n    )\n}\n\nexport default NotificationIconView;\n\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport NotificationIconView from './NotificationIcon-View'\n\nconst NotificationIconRedux = ({ notifications }) => {\n    return <NotificationIconView notifications={notifications} />\n}\n\nconst mapStateToProps = (state) => {\n    return { notifications: state.notifications }\n}\n\nexport default connect(mapStateToProps)(NotificationIconRedux);\n","import NotificationIcon from './NotificationIcon-Redux'\n\nexport default NotificationIcon","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\n\nimport { Dropdown } from '../../../standalone'\n\nconst UserIconView = ({ username, logoutUser }) => {\n    const renderMenu = () => {\n        return (\n            <div className='d-flex flex-column align-items-center'>\n                <Button variant=\"outline-secondary\" onClick={logoutUser}>\n                    Sign Out\n                </Button>\n            </div>\n        )\n    }\n\n    const UserIcon = <FontAwesomeIcon icon={faUser} size=\"lg\" />\n    const Title = (\n        <span>\n            Signed in as <strong>{username}</strong>\n        </span>\n    )\n\n    return (\n        <Dropdown\n            title={Title}\n            menu={renderMenu()}\n            triggerComponent={UserIcon}\n        />\n    )\n}\n\nexport default UserIconView","import Axios from 'axios';\n\nconst axios = Axios.create({ withCredentials: true })\n\nexport const registerUser = (username, password, confirmPassword, onRequestFulfilled, onRequestRejected) => {\n    return axios.post('/api/register', { username, password, confirmPassword }).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const loginUser = (username, password, onRequestFulfilled, onRequestRejected) => {\n    return axios.post('/api/login', { username, password }).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const getUser = (userId, onRequestFulfilled, onRequestRejected) => {\n    return axios.get(`/api/user/${userId}`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const getCurrentUser = (onRequestFulfilled, onRequestRejected) => {\n    return axios.get('/api/user/').then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const checkLoginStatus = (onRequestFulfilled, onRequestRejected) => {\n    return axios.get('/api/user/status/login').then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const logoutUser = (onRequestFulfilled, onRequestRejected) => {\n    return axios.post('/api/logout').then(onRequestFulfilled, onRequestRejected);\n}\n\nexport const getRoom = (roomId, onRequestFulfilled, onRequestRejected) => {\n    return axios.get(`/api/rooms/${roomId}`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const getAllRooms = (onRequestFulfilled, onRequestRejected) => {\n    return axios.get('/api/rooms').then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const createRoom = (roomName, roomType, onRequestFulfilled, onRequestRejected) => {\n    return axios.post('/api/rooms', { roomName, roomType }).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const updateRoom = (roomId, update, onRequestFulfilled, onRequestRejected) => {\n    return axios.patch(`/api/rooms/${roomId}`, update).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const deleteRoom = (roomId, onRequestFulfilled, onRequestRejected) => {\n    return axios.delete(`/api/rooms/${roomId}`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const joinRoom = (roomId, onRequestFulfilled, onRequestRejected) => {\n    return axios.post(`/api/rooms/${roomId}/members`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const leaveRoom = (roomId, memberId, onRequestFulfilled, onRequestRejected) => {\n    return axios.delete(`/api/rooms/${roomId}/members/${memberId}`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const getRoomMessage = (roomId, messageId, onRequestFulfilled, onRequestRejected) => {\n    return axios.get(`/api/rooms/${roomId}/messages/${messageId}`).then(onRequestFulfilled, onRequestRejected)\n}\n\nexport const addMessageToRoom = (roomId, message, onRequestFulfilled, onRequestRejected) => {\n    return axios.post(`/api/rooms/${roomId}/messages`, { message }).then(onRequestFulfilled, onRequestRejected)\n}","import { UPDATE_USER } from '../../action-constants'\n\nimport { getCurrentUser, checkLoginStatus } from '../../../server-communication/httpServer'\n\n\nconst actionUpdateUser = (isLoggedIn, user) => {\n    return {\n        type: UPDATE_USER,\n        payload: { isLoggedIn, user }\n    }\n}\n\nconst onGetCurrentUserSuccess = (userResponse, dispatch) => {\n    const onCheckLoginStatusSuccess = (loginResponse) => {\n        const user = userResponse.data\n        const isLoggedIn = loginResponse.data.isLoggedIn\n        dispatch(actionUpdateUser(isLoggedIn, user))\n    }\n\n    checkLoginStatus(onCheckLoginStatusSuccess, ({ response }) => console.log('Check user status fail: ', response))\n}\n\nexport default () => async dispatch => {\n    getCurrentUser(\n        (response) => onGetCurrentUserSuccess(response, dispatch),\n        ({ response }) => console.log('Get current user fail: ', response)\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport UserIconView from './UserIcon-View'\nimport { logoutUser as logoutUserAction } from '../../../../redux/actions/user-actions'\n\nconst UserIconRedux = ({ username, logoutUser }) => {\n    return <UserIconView username={username} logoutUser={logoutUser} />\n}\n\nconst mapStateToProps = (state) => {\n    const { user } = state\n    return { username: user.user && user.user.username }\n}\n\nexport default connect(mapStateToProps, { logoutUser: logoutUserAction })(UserIconRedux);","import { LOGOUT } from '../../action-constants';\n\nimport { logoutUser } from '../../../server-communication/httpServer'\n\nexport default () => async dispatch => {\n    logoutUser(() => dispatch({ type: LOGOUT }),({ response }) => console.log('Logout Failed: ', response));\n}\n","import UserIcon from './UserIcon-Redux'\n\nexport default UserIcon","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Container, Nav, Navbar } from 'react-bootstrap'\n\nimport { NotificationIcon, UserIcon } from './components'\nimport { withoutNavigateProp } from '../standalone'\nimport './Header-Style.scss'\n\n\nconst RegisterButton = (\n    <Link to='/register' component={(props) => withoutNavigateProp(props, Button)}>\n        Register\n    </Link>\n)\n\nconst LoginButton = (\n    <Link\n        to='/login'\n        component={(props) => withoutNavigateProp(props, Button)}\n        variant='outline-primary'\n    >\n        Login\n    </Link>\n)\n\nconst HeaderView = ({ isUserRegistered, isUserLoggedIn }) => {\n    const asNavItem = (component) => {\n        return <Nav.Item className='mx-3 cursor-pointer'>{component}</Nav.Item>\n    }\n\n    const getRegisterButton = () => {\n        return !isUserRegistered ? asNavItem(RegisterButton) : null;\n    }\n\n    const getLoginButton = () => {\n        return !isUserLoggedIn ? asNavItem(LoginButton) : null;\n    }\n\n    const getUserIcon = () => {\n        return (isUserLoggedIn && isUserRegistered) ? asNavItem(<UserIcon />) : null;\n    }\n\n    return (\n        <Container className='header-navbar-container' fluid>\n            <Navbar expand='large' sticky='top'>\n                <Navbar.Brand>\n                    <Link to=\"/\" className='brand'> ChatRooms </Link>\n                </Navbar.Brand>\n\n                <Nav className='flex-row'>\n                    <Container>\n                        <Nav.Item className='mx-3'>\n                            <Link\n                                to='/rooms'\n                                component={(props) => withoutNavigateProp(props, Nav.Link)}\n                                className='header-text'\n                            >\n                                Rooms\n                            </Link>\n                        </Nav.Item>\n                        <Nav.Item className='mx-3 cursor-pointer'>\n                            <NotificationIcon />\n                        </Nav.Item>\n                        {getLoginButton()}\n                        {getRegisterButton()}\n                        {getUserIcon()}\n                    </Container>\n                </Nav>\n            </Navbar>\n        </Container>\n    );\n}\n\nexport default HeaderView;\n\n/*\nLogo credits\n\n<div>\n    Icons made by\n    <a href=\"https://www.flaticon.com/authors/smashicons\" title=\"Smashicons\">\n        Smashicons\n    </a>\n    from\n    <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n        www.flaticon.com\n    </a>\n</div>\n*/","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport HeaderView from './Header-View'\n\nconst HeaderRedux = ({ isUserRegistered, isUserLoggedIn }) => {\n    return (\n        <HeaderView\n            isUserRegistered={isUserRegistered}\n            isUserLoggedIn={isUserLoggedIn}\n        />\n    );\n}\n\nconst mapStateToProps = (state) => {\n    const { user } = state\n    return {\n        isUserLoggedIn: user.isLoggedIn,\n        isUserRegistered: user.user && user.user.isRegistered\n    }\n}\n\nexport default connect(mapStateToProps)(HeaderRedux);\n\n/*\nLogo credits\n\n<div>\n    Icons made by\n    <a href=\"https://www.flaticon.com/authors/smashicons\" title=\"Smashicons\">\n        Smashicons\n    </a>\n    from\n    <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n        www.flaticon.com\n    </a>\n</div>\n*/","import Header from './Header-Redux'\n\nexport default Header","import React from 'react';\nimport Header from '../../components/Header'\n\nconst LayoutEnhancer = Component => {\n    return (\n        <div>\n            <Header />\n            <div className='centered-content'>\n                {Component}\n            </div>\n        </div>\n    )\n}\n\nexport default LayoutEnhancer;\n","import React from 'react'\n\nimport LandingPage from '../../components/LandingPage'\nimport withLayout from '../../components/hoc/WithLayout'\n\nconst RouteRoot = (props) => {\n    return withLayout(<LandingPage {...props} />)\n}\n\nexport default RouteRoot","import RouteRoot from './Route-Root'\n\nexport default RouteRoot","import React from 'react'\nimport { Button, Form, FormControl, FormGroup } from 'react-bootstrap'\nimport { Field, reduxForm } from 'redux-form'\n\nimport { ToggleablePasswordField } from '../../../standalone'\nimport validate from './validate'\n\nconst getFormControlProps = (formProps) => {\n    const { touched, error, pristine } = formProps.meta\n    const hasErrors = touched && error\n\n    return {\n        ...formProps,\n        ...formProps.input,\n        isInvalid: hasErrors,\n        isValid: !pristine && !hasErrors\n    }\n}\n\nconst renderField = (formProps) => {\n    const { error } = formProps.meta\n    const formControlProps = getFormControlProps(formProps)\n\n    if (formProps.type === 'password') {\n        return <ToggleablePasswordField formProps={formControlProps} error={error} />\n    }\n\n    return (\n        <>\n            <Form.Label>{formProps.label}</Form.Label>\n            <FormControl {...formControlProps} />\n            <FormControl.Feedback type='invalid'>{error}</FormControl.Feedback>\n        </>\n    );\n}\n\nconst LoginForm = (props) => {\n    return (\n        <Form onSubmit={props.handleSubmit(props.onFormSubmit)}>\n            <FormGroup controlId=\"formUsernameGroup\">\n                <Field\n                    component={renderField}\n                    name=\"username\"\n                    type=\"text\"\n                    label=\"Enter Username\"\n                    placeholder=\"Example: mitsy_the_cat\"\n                />\n            </FormGroup>\n\n            <FormGroup controlId=\"formPasswordGroup\">\n                <Field\n                    component={renderField}\n                    name=\"password\"\n                    type=\"password\"\n                    label=\"Enter Password\"\n                    placeholder=\"Password\"\n                />\n            </FormGroup>\n\n            <Button type=\"submit\">Login</Button>\n        </Form>\n    );\n}\n\nexport default reduxForm({\n    form: 'loginForm',\n    validate\n})(LoginForm)","export default (value) => {\n    const errors = {}\n    if(!value.username){\n        errors.username = 'Username is required'\n    }\n    if(!value.password){\n        errors.password = 'Password is required'\n    }\n\n    return errors\n}","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Alert, Container } from 'react-bootstrap';\n\nimport { LoginForm } from './components'\nimport { DismissibleAlert } from '../standalone'\n\nimport './Login-Style.scss'\n\nconst renderAppropriateContentIfRedirect = (props) => {\n    const locationState = props.location.state;\n    if (locationState && locationState.isRedirectFromSuccessfulRegister) {\n        return (\n            <Alert variant=\"success\">\n                <Alert.Heading>Registration Completed!</Alert.Heading>\n                <p>Please login to continue</p>\n            </Alert>\n        )\n    }\n}\n\nconst renderLoginView = (props) => {\n    const {\n        shouldShowErrorAlert,\n        errorReason,\n        onErrorAlertDismissed,\n        onFormSubmit\n    } = props\n\n    return (\n        <Container className=\"compensate-header\">\n            <div className=\"centered-content login-container\">\n                {false && renderAppropriateContentIfRedirect(props)}\n                <DismissibleAlert\n                    variant=\"danger\"\n                    heading=\"Login Unsuccessful\"\n                    body={errorReason}\n                    show={shouldShowErrorAlert}\n                    onDismiss={onErrorAlertDismissed}\n                />\n                <LoginForm onFormSubmit={onFormSubmit} />\n            </div>\n        </Container>\n    )\n}\n\nconst LoginView = (props) => {\n    return props.isUserLoggedIn ? <Redirect to=\"/\" /> : renderLoginView(props)\n}\n\n\nexport default LoginView","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport LoginView from './Login-View'\nimport { loginUser } from '../../redux/actions/user-actions'\n\nclass LoginRedux extends React.Component {\n    onFormSubmit = (formValues) => {\n        this.props.loginUser(\n            formValues.username,\n            formValues.password,\n            this.props.onLoginFailure\n        );\n    }\n\n    render() {\n        const {\n            shouldShowErrorAlert,\n            errorReason,\n            onErrorAlertDismissed,\n            isUserLoggedIn\n        } = this.props\n\n        return (\n            <LoginView\n                isUserLoggedIn={isUserLoggedIn}\n                errorReason={errorReason}\n                shouldShowErrorAlert={shouldShowErrorAlert}\n                onErrorAlertDismissed={onErrorAlertDismissed}\n                onFormSubmit={this.onFormSubmit}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { isUserLoggedIn: state.user.isLoggedIn }\n}\n\nexport default connect(mapStateToProps, { loginUser })(LoginRedux);\n","import { LOGIN } from '../../action-constants'\nimport { loginUser } from '../../../server-communication/httpServer'\n\nconst loginAction = (user) => {\n    return {\n        type: LOGIN,\n        payload: {\n            user: user\n        }\n    }\n}\n\nexport default (username, password, onFailureCallback) => async (dispatch) => {\n    const dispatchLoginAction = (response) => {\n        dispatch(loginAction(response.data))\n    }\n\n    loginUser(username, password, dispatchLoginAction, onFailureCallback);\n}\n","import React from 'react';\n\nimport LoginRedux from './Login-Redux';\n\nclass LoginContainer extends React.Component {\n    state = {\n        errorReason: null,\n        shouldShowErrorAlert: false,\n    }\n\n    onLoginFailure = ({ response }) => {\n        this.setState({\n            errorReason: response.data.reason,\n            shouldShowErrorAlert: true\n        })\n    }\n\n    onErrorAlertDismissed = () => {\n        this.setState({ shouldShowErrorAlert: false })\n    }\n\n    render() {\n        return (\n            <LoginRedux\n                onLoginFailure={this.onLoginFailure}\n                onErrorAlertDismissed={this.onErrorAlertDismissed}\n                {...this.state}\n            />\n        )\n    }\n}\n\nexport default LoginContainer;\n","import LoginContainer from './Login-Container'\n\nexport default LoginContainer","import React from 'react'\n\nimport withLayout from '../../components/hoc/WithLayout'\nimport Login from '../../components/Login'\n\nconst RouteLogin = (props) => {\n    return withLayout(<Login {...props} />)\n}\n\nexport default RouteLogin","import RouteLogin from './Route-Login'\n\nexport default RouteLogin","export default {\n    ROOM_EVENT: 'event:room',\n    ROOM_JOIN_PERMISSION_SEND: 'room_join_permission_send',\n    ROOM_JOIN_PERMISSION_RECIEVE: 'room_join_permission_recieve',\n    CONNECT_TO_ROOM: 'connect_to_room',\n    JOIN_ROOM: 'join_room',\n    NEW_USER_IN_ROOM: 'new_user_in_room',\n\n    MESSAGE_EVENT: 'event:message',\n    NEW_MESSAGE: 'send_message',\n\n    USER_EVENT: 'event:user',\n    CHECK_USERNAME: 'check_username'\n}","import openSocket from 'socket.io-client';\nimport events from '../constants/serverEventConstants';\n\nconst socket = openSocket('/', { autoConnect: false });\n\nexport const connectToServer = (onConnectionFailed) => {\n    socket.connect();\n    socket.on('connect_error', onConnectionFailed);\n}\n\nexport const onServerConnected = (callback) => {\n    socket.on('connect', callback)\n}\n\nexport const onServerDisconnected = (callback) => {\n    socket.on('disconnect', callback)\n}\n\nexport const registerNewMessageListener = (roomId, callback) => {\n    socket.on(events.MESSAGE_EVENT, (...args) => {\n        console.log(\"Message Event: \", args)\n        const subEvent = args[0]\n        if (subEvent === events.NEW_MESSAGE) {\n            const data = args[1]\n            if (data.roomId === roomId) {\n                callback(data)\n            }\n        }\n    })\n}\n\nexport const joinRoom = (roomId, callback) => {\n    return socket.emit(events.ROOM_EVENT, events.JOIN_ROOM, roomId, callback);\n}\n\nexport const connectToRoom = (roomId, callback) => {\n    return socket.emit(events.ROOM_EVENT, events.CONNECT_TO_ROOM, roomId, callback)\n}\n\nexport const checkUsername = (username, callback) => {\n    return socket.emit(events.USER_EVENT, events.CHECK_USERNAME, username, callback)\n}\n\nexport const sendMessage = (roomId, messageId) => {\n    return socket.emit(events.MESSAGE_EVENT, events.NEW_MESSAGE, roomId, messageId)\n}","import React from 'react';\nimport { Button, Form, FormControl, FormGroup } from 'react-bootstrap';\nimport { Field } from 'redux-form';\n\nimport { USERNAME_TAKEN_ERROR_MESSAGE } from './asyncValidate';\nimport { ToggleablePasswordField } from '../../../standalone'\n\nconst isAsyncValidationError = (error) => {\n    return error === USERNAME_TAKEN_ERROR_MESSAGE\n}\n\nconst getPropsForFormControl = (formProps) => {\n    const { touched, error, pristine, asyncValidating } = formProps.meta\n    const hasErrors = isAsyncValidationError(error) || (touched && error)\n\n    return {\n        ...formProps,\n        ...formProps.input,\n        className: asyncValidating ? 'input-loading' : '',\n        isInvalid: hasErrors,\n        isValid: !asyncValidating && !pristine && !hasErrors\n    }\n}\n\nconst renderField = (formProps) => {\n    const { error } = formProps.meta\n    const formControlProps = getPropsForFormControl(formProps)\n\n    if (formProps.type === 'password') {\n        return <ToggleablePasswordField formProps={formControlProps} error={error} />\n    }\n\n    return (\n        <>\n            <Form.Label>{formProps.label}</Form.Label>\n            <FormControl {...formControlProps} />\n            <FormControl.Feedback type=\"invalid\">{error}</FormControl.Feedback>\n        </>\n    );\n}\n\nconst RegistrationForm = ({ onFormSubmit, isRegisterButtonDisabled }) => {\n    const registerButtonCursorStyle = isRegisterButtonDisabled ? 'not-allowed' : 'cursor'\n\n    return (\n        <Form noValidate id=\"registration-form\" onSubmit={onFormSubmit}>\n            <FormGroup controlId=\"formUsernameGroup\">\n                <Field\n                    component={renderField}\n                    name=\"username\"\n                    type=\"text\"\n                    label=\"Enter Username\"\n                    placeholder=\"Example: mitsy_the_cat\"\n                />\n            </FormGroup>\n            <FormGroup controlId=\"formPasswordGroup\">\n                <Field\n                    component={renderField}\n                    name=\"password\"\n                    type=\"password\"\n                    label=\"Enter Password\"\n                    placeholder=\"Password\"\n                />\n            </FormGroup>\n\n            <FormGroup controlId=\"formConfirmPasswordGroup\">\n                <Field\n                    component={renderField}\n                    name=\"confirmPassword\"\n                    type=\"password\"\n                    label=\"Confirm Password\"\n                    placeholder=\"Confirm Password\"\n                />\n            </FormGroup>\n\n            <Button\n                type=\"submit\"\n                form=\"registration-form\"\n                className={`cursor-${registerButtonCursorStyle}`}\n                disabled={isRegisterButtonDisabled}\n            >\n                Register\n            </Button>\n        </Form>\n    );\n}\n\nexport default RegistrationForm","import { checkUsername } from '../../../../server-communication/socketServer'\n\nexport const USERNAME_TAKEN_ERROR_MESSAGE = 'That username is already taken'\n\nexport const checkUsernameExists = (values, _) => {\n    return new Promise((resolve, reject) =>\n        checkUsername(values.username, (response) => {\n            if (response.status === 200) {\n                reject({ 'username': USERNAME_TAKEN_ERROR_MESSAGE })\n            }\n            else {\n                resolve()\n            }\n        })\n    )\n}","import React from 'react';\nimport { reduxForm } from 'redux-form';\n\nimport RegistrationFormView from './RegistrationForm-View'\nimport validate from './validate';\nimport { checkUsernameExists } from './asyncValidate';\n\nconst RegistrationFormRedux = ({ handleSubmit, onFormSubmit, ...otherProps }) => {\n    const { pristine, submitting, asyncValidating, invalid } = otherProps;\n    const isRegisterButtonDisabled = (pristine || submitting || asyncValidating || invalid);\n\n    return (\n        <RegistrationFormView\n            isRegisterButtonDisabled={isRegisterButtonDisabled}\n            onFormSubmit={handleSubmit(onFormSubmit)}\n        />\n    )\n}\n\nexport default reduxForm({\n    form: 'registerForm',\n    validate: validate,\n    asyncValidate: checkUsernameExists,\n    asyncChangeFields: ['username']\n})(RegistrationFormRedux)","const hasPasswordMismatch = (password, confirmPassword) => {\n    return password !== confirmPassword\n}\n\nexport default (values) => {\n    const { username, password, confirmPassword } = values;\n    const errors = {}\n\n    if (!username) {\n        errors.username = \"Username cannot be empty\"\n    }\n    if (!password) {\n        errors.password = \"Password cannot be empty\"\n    }\n    if (!confirmPassword) {\n        errors.confirmPassword = \"Confirm Password cannot be empty\"\n    } else if (hasPasswordMismatch(password, confirmPassword)) {\n        const errMsg = \"Confirm Password and Password must match\"\n        errors.confirmPassword = errMsg\n        errors.password = errMsg\n    }\n\n    return errors\n}","import RegistrationForm from './RegistrationForm-Redux'\n\nexport default RegistrationForm","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport { Redirect } from 'react-router-dom';\n\nimport { RegistrationForm } from './components'\n\nexport default ({ onFormSubmit, isUserLoggedIn, isUserRegistered }) => {\n    const renderRedirect = () => {\n        const RedirectToHome = <Redirect to=\"/\" />\n        const RedirectToLogin = <Redirect to={{\n            pathname: \"/login\",\n            state: { isRedirectFromSuccessfulRegister: true }\n        }} />\n\n        if (isUserLoggedIn) {\n            return RedirectToHome;\n        } else if (isUserRegistered) {\n            return isUserLoggedIn ? RedirectToHome : RedirectToLogin\n        }\n    }\n\n    if (isUserLoggedIn || isUserRegistered) {\n        return renderRedirect()\n    }\n    return (\n        <div className=\"centered-content\">\n            <Container>\n                <RegistrationForm onFormSubmit={onFormSubmit} />\n            </Container>\n        </div>\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport RegisterView from './Register-View'\nimport { registerUser } from '../../redux/actions/user-actions';\n\nclass RegisterContainer extends React.Component {\n\n    onRegistrationFailed = ({ response }) => {\n        console.log(\"Registration failed: \", response)\n    }\n\n    onFormSubmit = (formValues) => {\n        console.log(\"Registration Form Values: \", formValues)\n        this.props.registerUser(\n            formValues.username,\n            formValues.password,\n            formValues.confirmPassword,\n            this.onRegistrationFailed\n        )\n    }\n\n    render() {\n        const { isUserLoggedIn, isUserRegistered } = this.props\n\n        return (\n            <RegisterView\n                isUserLoggedIn={isUserLoggedIn}\n                isUserRegistered={isUserRegistered}\n                onFormSubmit={this.onFormSubmit}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isUserRegistered: state.user.user && state.user.user.isRegistered,\n        isUserLoggedIn: state.user.isLoggedIn\n    }\n}\n\nexport default connect(mapStateToProps, { registerUser })(RegisterContainer);\n","import { REGISTER } from '../../action-constants';\nimport { registerUser } from '../../../server-communication/httpServer'\n\n\nexport default (username, password, confirmPassword, onRequestRejected) => async (dispatch) => {\n    registerUser(username, password, confirmPassword,\n        (response) => dispatch({ type: REGISTER, payload: response.data }),\n        onRequestRejected\n    )\n}\n","import Register from './Register-Redux'\n\nexport default Register","import React from 'react'\n\nimport withLayout from '../../components/hoc/WithLayout'\nimport Register from '../../components/Register'\n\nconst RouteRegister = (props) => {\n    return withLayout(<Register {...props} />)\n}\n\nexport default RouteRegister","import RouteRegister from './Route-Register'\n\nexport default RouteRegister","import React from 'react';\nimport { Field } from 'redux-form';\nimport { Container, Button, Form } from 'react-bootstrap';\n\nimport { TextInputWordWrap } from '../../../standalone'\nimport './ChatMessageForm-Style.scss'\n\nconst renderMessageField = (formProps) => {\n    return (\n        <TextInputWordWrap {...formProps} />\n    );\n}\n\nconst ChatMessageFormView = (props) => {\n    const { onFormSubmit, formId } = props\n\n    return (\n        <Form onSubmit={onFormSubmit} id={formId} className='chat-message-form'>\n            <Container className='d-flex align-items-center' fluid>\n                <div className='textarea-flex-container'>\n                    <Form.Group controlId='message' className='textarea-wrapper'>\n                        <Field\n                            name='message'\n                            placeholder='Type a message...'\n                            type='text'\n                            component={renderMessageField}\n                        />\n                    </Form.Group>\n                </div>\n                <div className='send-btn-flex-container'>\n                    <Button type='submit' form={formId} variant='outline-primary'>Send</Button>\n                </div>\n            </Container>\n        </Form>\n    )\n}\n\nexport default ChatMessageFormView","import React from 'react';\nimport { reduxForm, reset } from 'redux-form';\n\nimport ChatMessageFormView from './ChatMessageForm-View'\n\nconst FORM_ID = 'chat-message-form'\n\nconst ChatMessageFormRedux = (props) => {\n    const { handleSubmit, onFormSubmit } = props\n    return <ChatMessageFormView onFormSubmit={handleSubmit(onFormSubmit)} formId={FORM_ID} />\n}\n\nconst resetForm = (_/*result*/, dispatch) => {\n    dispatch(reset(FORM_ID))\n}\n\nexport default reduxForm({\n    form: FORM_ID,\n    onSubmitSuccess: resetForm\n})(ChatMessageFormRedux);","import ChatMessageFormRedux from './ChatMessageForm-Redux'\n\nexport default ChatMessageFormRedux","import React from 'react'\nimport { ListGroup, Container } from 'react-bootstrap'\n\nimport './Message-Style.scss'\n\nconst Message = (props) => {\n    const { message, align, color, isCurrentUserMessageAuthor } = props\n    if (!message) {\n        return null\n    }\n\n    const getMessageAuthor = () => {\n        return isCurrentUserMessageAuthor ? 'You' : message.author && message.author.username ? message.author.username : '<unknown-user>'\n    }\n\n    const renderMessageArrow = () => {\n        const borderAttr = `15px solid ${color}`\n        const style = align === 'left' ? { borderRight: borderAttr } : { borderLeft: borderAttr }\n\n        return <p className={`msg-box-arrow ${align}`} style={style} />\n    }\n\n    const messageAuthor = getMessageAuthor()\n    const messageArrow = renderMessageArrow()\n    return (\n        <ListGroup.Item key={message.id} style={{ border: \"none\" }}>\n            <Container className={`message float-${align}`} style={{ backgroundColor: color }}>\n                {align === 'left' && messageArrow}\n                {\n                    messageAuthor &&\n                    <p>\n                        <strong>{messageAuthor}</strong>\n                    </p>\n                }\n                <p>{message.data}</p>\n                {align === 'right' && messageArrow}\n            </Container>\n\n        </ListGroup.Item>\n    )\n}\n\nexport default Message","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport MessageView from './Message-View'\n\nclass MessageRedux extends React.Component {\n    isCurrentUserMessageAuthor = () => {\n        const { message, userId } = this.props\n        return message && message.author && message.author._id === userId\n    }\n\n    render() {\n        const { message, color } = this.props\n        if (!message) {\n            return null\n        }\n\n        const messageAlignment = this.isCurrentUserMessageAuthor() ? 'right' : 'left'\n\n        return (\n            <MessageView\n                message={message}\n                align={messageAlignment}\n                color={color}\n                isCurrentUserMessageAuthor={this.isCurrentUserMessageAuthor()}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { userId: state.user.user._id }\n}\n\nexport default connect(mapStateToProps, null)(MessageRedux);\n","import MessageRedux from './Message-Redux'\n\nexport default MessageRedux","import React from 'react'\nimport ListGroup from 'react-bootstrap/ListGroup'\n\nimport Message from '../Message'\nimport './ChatWindow-Style.scss'\n\nconst ChatWindow = (props) => {\n    const { room, colorsAssignedToMessageAuthors } = props\n\n    const renderMessages = () => {\n        return room.messages.map(message => {\n            const messageAuthor = message.author && message.author._id\n            return <Message\n                color={colorsAssignedToMessageAuthors[messageAuthor]}\n                roomId={room.roomId}\n                message={message}\n                key={message && message._id}\n            />\n        })\n    }\n\n    return (\n        <ListGroup className='chat-window pre-scrollable' variant=\"flush\">\n            {renderMessages()}\n        </ListGroup>\n    )\n}\n\nexport default ChatWindow;","const colors = [\n    '#fff07c',\n    '#80ff72',\n    '#7ee8fa',\n    '#eec0c6',\n    '#e58c8a'\n]\n\nconst colorChoicesExhausted = (usedColors) => {\n    return colors.length === usedColors.length\n}\n\nconst isColorUsed = (usedColors, randomColor) => {\n    return usedColors.indexOf(randomColor) !== -1\n}\n\nconst getRandomColor = (usedColors) => {\n    let randomColor;\n    do {\n        let randomIndex = Math.floor(Math.random() * colors.length)\n        randomColor = colors[randomIndex]\n    } while (isColorUsed(usedColors, randomColor) && !colorChoicesExhausted(usedColors));\n    return randomColor\n}\n\nconst assignColorsRandomly = (keys) => {\n    const assignedKeys = {}\n    const usedColors = []\n    keys.forEach(key => {\n        if (!assignedKeys[key]) {\n            const randomColor = getRandomColor(usedColors)\n            assignedKeys[key] = randomColor\n            if (!colorChoicesExhausted(usedColors)) usedColors.push(randomColor)\n        }\n    })\n\n    return assignedKeys\n}\n\nexport { assignColorsRandomly }","import React from 'react';\n\nimport ChatWindowView from './ChatWindow-View'\nimport { assignColorsRandomly } from './utils'\n\nclass ChatWindowContainer extends React.Component {\n    state = { randomAuthorColors: [] }\n\n    componentDidMount() {\n        const { room } = this.props\n        if (room) {\n            this.setState({\n                randomAuthorColors: this.assignRandomColorsToMessageAuthors()\n            })\n        }\n    }\n\n    assignRandomColorsToMessageAuthors() {\n        const { room } = this.props\n        const messageAuthors = room.messages.map(message => message.author && message.author._id)\n        return assignColorsRandomly(messageAuthors)\n    }\n\n    render() {\n        const { room } = this.props\n        const { randomAuthorColors } = this.state\n        if (!room) {\n            return null\n        }\n\n        return <ChatWindowView room={room} colorsAssignedToMessageAuthors={randomAuthorColors} />\n    }\n}\n\nexport default ChatWindowContainer;\n","import ChatWindowContainer from './ChatWindow-Container'\n\nexport default ChatWindowContainer","import RoomHeaderView from './RoomHeader-View'\n\nexport default RoomHeaderView","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt, faPlus, faWindowClose } from '@fortawesome/free-solid-svg-icons'\nimport { Container } from 'react-bootstrap/';\n\nimport { WithLink, WithModalTrigger } from '../../../hoc'\nimport { TooltipWrapper } from '../../../standalone'\nimport './RoomHeader-Style.scss'\n\nconst RoomHeader = ({ room, className }) => {\n    const renderRoomActionIcons = () => {\n        const ActionLeaveRoom = (\n            <WithModalTrigger\n                component={FontAwesomeIcon}\n                icon={faSignOutAlt}\n                className='cursor-pointer'\n                modalName='LeaveRoom'\n                modalProps={{ room }}\n            />\n        )\n\n        const ActionInviteUser = (\n            <FontAwesomeIcon\n                icon={faPlus}\n                className='cursor-pointer'\n            />\n        )\n\n        const ActionCloseRoomWindow = (\n            <WithLink\n                component={FontAwesomeIcon}\n                icon={faWindowClose}\n                className='cursor-pointer'\n                to='/rooms'\n            />\n        )\n\n        const actionsWithTooltip = [\n            {\n                tooltipLabel: 'Leave Room',\n                tooltipId: 'tooltip-leave-room',\n                Component: ActionLeaveRoom\n            },\n            {\n                tooltipLabel: 'Invite User',\n                tooltipId: 'tooltip-invite-user',\n                Component: ActionInviteUser\n            },\n            {\n                tooltipLabel: 'Close Room Window',\n                tooltipId: 'tooltip-close-room',\n                Component: ActionCloseRoomWindow\n            }\n        ]\n\n        return actionsWithTooltip.map(({ tooltipId, tooltipLabel, Component }) => {\n            return <TooltipWrapper\n                triggerComponent={Component}\n                label={tooltipLabel}\n                id={tooltipId}\n                key={tooltipId}\n            />\n        })\n    }\n\n    return (\n        <Container fluid className={`room-page-sub-header ${className}`}>\n            <div className='d-flex align-items-center h-100'>\n                <div className='room-name-container text-overflow-ellipses'>\n                    {room.name}\n                </div>\n                <div className='room-actions-container'>\n                    <div className='d-flex justify-content-around'>\n                        {renderRoomActionIcons()}\n                    </div>\n                </div>\n            </div>\n        </Container>\n    )\n}\n\nexport default RoomHeader","import { joinRoom } from '../../../server-communication/httpServer'\nimport { JOIN_ROOM } from '../../action-constants'\n\nexport default (roomId, onSuccess, onFailure) => dispatch => {\n    joinRoom(roomId).then(({ data }) => {\n        dispatch({ type: JOIN_ROOM, payload: { roomId, updatedMembers: data.members } })\n        onSuccess()\n    }).catch(onFailure)\n}","import React from 'react';\n\nimport ProgressButton from '../ProgressButton'\n\nconst CreateRoomButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...rest\n}) => {\n\n    const constructProps = () => {\n        const propsInit = propsProgressInitial && { ...propsProgressInitial }\n        const propsPending = propsProgressPending && { ...propsProgressPending }\n        const propsSuccess = propsProgressSuccess && { ...propsProgressSuccess }\n        const propsFailure = propsProgressFailure && { ...propsProgressFailure }\n        return (\n            {\n                propsProgressInitial: { label: 'Create Room', ...propsInit },\n                propsProgressPending: { label: 'Creating Room...', ...propsPending },\n                propsProgressSuccess: { label: 'Room Created', ...propsSuccess },\n                propsProgressFailure: { label: 'Error Creating Room', ...propsFailure }\n            }\n        )\n    }\n\n    return <ProgressButton progress={progress} {...constructProps()} {...rest} />\n}\n\nexport default CreateRoomButton;\n","import React from 'react';\n\nimport ProgressButton from '../ProgressButton'\n\nconst DeleteRoomButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...rest\n}) => {\n\n    const constructProps = () => {\n        const propsInit = propsProgressInitial && { ...propsProgressInitial }\n        const propsPending = propsProgressPending && { ...propsProgressPending }\n        const propsSuccess = propsProgressSuccess && { ...propsProgressSuccess }\n        const propsFailure = propsProgressFailure && { ...propsProgressFailure }\n        return (\n            {\n                propsProgressInitial: { label: 'Delete Room', ...propsInit },\n                propsProgressPending: { label: 'Deleting Room...', ...propsPending },\n                propsProgressSuccess: { label: 'Room Deleted', ...propsSuccess },\n                propsProgressFailure: { label: 'Error Deleting Room', ...propsFailure }\n            }\n        )\n    }\n\n    return <ProgressButton progress={progress} {...constructProps()} {...rest} />\n}\n\nexport default DeleteRoomButton;\n","import React from 'react';\n\nimport ProgressButton from '../ProgressButton'\n\nconst JoinRoomButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...rest\n}) => {\n\n    const constructProps = () => {\n        const propsInit = propsProgressInitial && { ...propsProgressInitial }\n        const propsPending = propsProgressPending && { ...propsProgressPending }\n        const propsSuccess = propsProgressSuccess && { ...propsProgressSuccess }\n        const propsFailure = propsProgressFailure && { ...propsProgressFailure }\n        return (\n            {\n                propsProgressInitial: { label: 'Join Room', ...propsInit },\n                propsProgressPending: { label: 'Joining Room...', ...propsPending },\n                propsProgressSuccess: { label: 'Room Joined', ...propsSuccess },\n                propsProgressFailure: { label: 'Error Joining Room', ...propsFailure }\n            }\n        )\n    }\n\n    return <ProgressButton progress={progress} {...constructProps()} {...rest} />\n}\n\nexport default JoinRoomButton;\n","import React from 'react';\n\nimport ProgressButton from '../ProgressButton'\n\nconst LeaveRoomButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...rest\n}) => {\n\n    const constructProps = () => {\n        const propsInit = propsProgressInitial && { ...propsProgressInitial }\n        const propsPending = propsProgressPending && { ...propsProgressPending }\n        const propsSuccess = propsProgressSuccess && { ...propsProgressSuccess }\n        const propsFailure = propsProgressFailure && { ...propsProgressFailure }\n        return (\n            {\n                propsProgressInitial: { label: 'Leave Room', ...propsInit },\n                propsProgressPending: { label: 'Leaving Room...', ...propsPending },\n                propsProgressSuccess: { label: 'Room Left', ...propsSuccess },\n                propsProgressFailure: { label: 'Error Leaving Room', ...propsFailure }\n            }\n        )\n    }\n\n    return <ProgressButton progress={progress} {...constructProps()} {...rest} />\n}\n\nexport default LeaveRoomButton;\n","import React from 'react';\n\nimport ProgressButton from '../ProgressButton'\n\nconst LeaveRoomButton = ({\n    progress,\n    propsProgressInitial,\n    propsProgressPending,\n    propsProgressSuccess,\n    propsProgressFailure,\n    ...rest\n}) => {\n\n    const constructProps = () => {\n        const propsInit = propsProgressInitial && { ...propsProgressInitial }\n        const propsPending = propsProgressPending && { ...propsProgressPending }\n        const propsSuccess = propsProgressSuccess && { ...propsProgressSuccess }\n        const propsFailure = propsProgressFailure && { ...propsProgressFailure }\n        return (\n            {\n                propsProgressInitial: { label: 'Send Join Request', ...propsInit },\n                propsProgressPending: { label: 'Sending Request...', ...propsPending },\n                propsProgressSuccess: { label: 'Room Join Request Sent', ...propsSuccess },\n                propsProgressFailure: { label: 'Error Sending Request', ...propsFailure }\n            }\n        )\n    }\n\n    return <ProgressButton progress={progress} {...constructProps()} {...rest} />\n}\n\nexport default LeaveRoomButton;\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { ButtonGroup, Container } from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSadCry } from '@fortawesome/free-solid-svg-icons'\n\nimport { JoinRoomButton } from '../../../standalone/RoomActionButtons'\n\nconst getJoinRoomButton = (joinRoomProgress, onClick) => {\n    return (\n        <JoinRoomButton\n            progress={joinRoomProgress}\n            propsProgressInitial={{ onClick }}\n        />\n    )\n}\n\nconst RoomNotJoinedView = ({\n    room,\n    joinRoomProgress,\n    onJoinRoomButtonClick\n}) => {\n    console.log('room: ', room)\n    if (!room) return null\n\n    const isPrivateRoom = room.type === 'private'\n    const possibleActionText = isPrivateRoom ? 'send a join request' : 'join the room'\n\n    //Using className for button (Link) because a \n    //Button component will cause page reload which isn't desired here\n    //since Room and RoomList are supposed to look like same page application \n    //instead of separate\n    return (\n        <Container fluid className='centered-content h-100'>\n            <div className='d-flex flex-column justify-content-between align-items-center mx-auto'>\n                <FontAwesomeIcon icon={faSadCry} size='5x' color='#b7b9ba' className='mb-4' />\n                <h4>You are not a member of this room</h4>\n                <p className=' h-100 subtitle'>To access, you must {possibleActionText}</p>\n                <ButtonGroup>\n                    {\n                        isPrivateRoom ?\n                            <div>Send a request</div> :\n                            getJoinRoomButton(joinRoomProgress, onJoinRoomButtonClick)\n                    }\n                    <Link to='/rooms' className='btn btn-outline-secondary'>\n                        Back to Rooms\n                    </Link>\n                </ButtonGroup>\n            </div>\n        </Container>\n    )\n}\n\nexport default RoomNotJoinedView","import React from 'react'\n\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../../standalone/ProgressButton'\nimport RoomNotJoinedView from './RoomNotJoined-View'\n\nclass RoomNotJoinedContainer extends React.Component {\n    state = { joinRoomProgress: PROGRESS_INITIAL }\n\n    onJoinRoomButtonClick = () => {\n        this.onJoinRoomPending()\n        const { room, joinRoom } = this.props\n        const roomId = room && room.roomId\n        joinRoom(roomId, this.onJoinRoomSuccess, this.onJoinRoomFail)\n    }\n\n    onJoinRoomPending = () => {\n        this.setState({ joinRoomProgress: PROGRESS_PENDING })\n    }\n\n    onJoinRoomSuccess = () => {\n        this.setState({ joinRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onJoinRoomFail = () => {\n        this.setState({ joinRoomProgress: PROGRESS_FAIL })\n    }\n\n    render() {\n        return (\n            <RoomNotJoinedView\n                onJoinRoomButtonClick={this.onJoinRoomButtonClick}\n                {...this.props}\n                {...this.state}\n            />\n        )\n    }\n}\n\nexport default RoomNotJoinedContainer","import RoomNotJoined from './RoomNotJoined-Redux'\n\nexport default RoomNotJoined","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport {\n    joinRoom\n} from '../../../../redux/actions/room-actions'\nimport RoomNotJoinedContainer from './RoomNotJoined-Container'\n\nconst RoomNotJoinedRedux = (props) => {\n    return <RoomNotJoinedContainer {...props} />\n}\n\nexport default connect(null, { joinRoom })(RoomNotJoinedRedux)","import React from 'react';\nimport { Spinner } from 'react-bootstrap'\n\nimport { ChatMessageForm, ChatWindow, RoomHeader, RoomNotJoined } from './components'\nimport isRoomMember from './utils/isRoomMember'\nimport './Room-Style.scss'\n\nconst renderLoadingRoom = () => {\n    return (\n        <div className='centered-content'>\n            <h2>Please wait while the Room is loading...</h2>\n            <Spinner size='lg' animation='border' />\n        </div>\n    );\n}\n\nconst renderErrorScreen = (error) => {\n    //TODO:\n    //Make components like <RoomNotFound room-{room} />\n    //Use <PageNotFound />, etc inside those components providing appropriate messages\n    switch (error.status) {\n        default:\n            return <div>Unexpected Error</div>\n    }\n}\n\nconst renderRoomContent = (room, onSendMessageButtonClick) => {\n    return (\n        <>\n            <RoomHeader room={room} className='room-content-header' />\n            <div className='room-content-body'>\n                <ChatWindow room={room} />\n            </div>\n            <div className='room-content-footer'>\n                <ChatMessageForm onFormSubmit={onSendMessageButtonClick} />\n            </div>\n        </>\n    )\n}\n\nconst renderRoom = (room, currentUser, onSendMessageButtonClick) => {\n    return (\n        <div className='d-flex flex-column room-content-container'>\n            {renderRoomContent(room, currentUser, onSendMessageButtonClick)}\n        </div>\n    );\n}\n\nconst Room = (props) => {\n    const { error, room, currentUser, onSendMessageButtonClick } = props\n\n    if (error) {\n        return renderErrorScreen(error)\n    } else if (!room) {\n        return renderLoadingRoom()\n    } else if (!isRoomMember(room, currentUser && currentUser._id)) {\n        return <RoomNotJoined room={room} />\n    } else {\n        return renderRoom(room, onSendMessageButtonClick)\n    }\n}\n\nexport default Room;","export default (room, queryUserId) => {\n    if (!room || !room.members || !queryUserId) {\n        return false\n    }\n\n    const memberDocIndex = room.members.findIndex(member => {\n        return member.user && member.user._id === queryUserId\n    })\n\n    return memberDocIndex !== -1\n}","import { sendMessage } from '../server-communication/socketServer'\nimport { addMessageToRoom } from '../server-communication/httpServer'\n\nexport default (roomId, message, onSuccess, onFailure) => {\n    addMessageToRoom(roomId, message, (response) => {\n        sendMessage(roomId, response._id)\n        onSuccess(response)\n    }, onFailure)\n}","import React from 'react';\n\nimport RoomView from './Room-View';\nimport { connectToRoom, registerNewMessageListener } from '../../server-communication/socketServer'\nimport sendMessage from '../../helpers/sendMessage'\n\nclass RoomContainer extends React.Component {\n    state = { error: null }\n\n    componentDidMount() {\n        const { fetchRoom, roomId } = this.props;\n        console.log('roomId: ', roomId)\n        registerNewMessageListener(roomId, (data) => {\n            console.log(\"new message: \", data)\n            fetchRoom(roomId, this.onRoomFetchSuccess, this.onRoomFetchFail)\n        })\n        fetchRoom(roomId, () => { }, this.onRoomFetchFail)\n    }\n\n    componentDidUpdate() {\n        const { room } = this.props\n        if (room) {\n            connectToRoom(room.roomId, () => { })\n        }\n    }\n\n    onRoomFetchFail = ({ response }) => {\n        this.setState({ error: response })\n    }\n\n    onSendMessageButtonClick = (formValues) => {\n        const { message } = formValues\n        if (!message || message.trim().length === 0) {\n            return null\n        } else {\n            const { room } = this.props\n            sendMessage(room.roomId, message, this.onSendMessageSuccess, this.onSendMessageFailure)\n        }\n    }\n\n    onSendMessageSuccess = (response) => {\n        this.setState({ room: response.data })\n    }\n\n    onSendMessageFailure = ({ response }) => {\n        //TODO: Message send failure should be addressed using separate state field\n        //As of now, if any error occurs, it will simply be treated as a \"room-error\"\n        //and appropriate message shown (e.g. \"Room not found\" or \"Forbidden\")\n        //which is misleading and inappropriate\n        this.setState({ error: response })\n    }\n\n    render() {\n        const { currentUser, room } = this.props\n\n        return <RoomView\n            currentUser={currentUser}\n            room={room}\n            onSendMessageButtonClick={this.onSendMessageButtonClick}\n            {...this.state}\n        />;\n    }\n}\n\nexport default RoomContainer\n","import Room from './Room-Redux'\n\nexport default Room","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport RoomContainer from './Room-Container'\nimport { fetchRoom } from '../../redux/actions/room-actions'\n\nconst RoomRedux = (props) => {\n    return <RoomContainer {...props} />;\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        currentUser: state.user && state.user.user,\n        room: state.rooms[ownProps.roomId]\n    }\n}\n\nexport default connect(mapStateToProps, { fetchRoom })(RoomRedux)\n","import { getRoom } from '../../../server-communication/httpServer'\nimport {\n    FETCH_ROOM\n} from '../../action-constants'\n\nexport default (roomId, onSuccess, onFailure) => dispatch => {\n    getRoom(roomId).then(({ data }) => {\n        onSuccess(data)\n        dispatch({ type: FETCH_ROOM, payload: data })\n    }).catch(onFailure)\n}","import React from 'react'\nimport { ButtonGroup, Container } from 'react-bootstrap'\n\nimport {\n    CreateRoomModalTrigger,\n    JoinRoomModalTrigger\n} from '../../../standalone/RoomModalTriggers'\n\nimport './EmptyRoomList-Style.scss'\n\nconst titleSubtitleTemplate = (title, subtitle) => {\n    return (\n        <Container fluid className='d-flex flex-column align-items-center'>\n            <div className='title empty-room-list-title'>\n                {title}\n            </div>\n            <div className='subtitle empty-room-list-subtitle'>\n                {subtitle}\n            </div>\n        </Container>\n    )\n}\n\nconst renderEmptySearchResultView = () => {\n    const title = 'No rooms matching your search query'\n    const subtitle = 'Try checking spelling and other possible errors, if any'\n    return titleSubtitleTemplate(title, subtitle)\n}\n\nconst renderEmptyRoomListView = () => {\n    const title = 'There are no public rooms available'\n    const subtitle = (\n        <ButtonGroup>\n            <CreateRoomModalTrigger\n                size='sm'\n                className='empty-room-list-subtitle'\n            >\n                Create a room\n            </CreateRoomModalTrigger>\n\n            <JoinRoomModalTrigger\n                size='sm'\n                variant='outline-primary'\n                className='empty-room-list-subtitle'\n            >\n                Join a room by Id\n            </JoinRoomModalTrigger>\n        </ButtonGroup>\n    )\n    return titleSubtitleTemplate(title, subtitle)\n}\n\nconst EmptyRoomList = ({ isSearchResult }) => {\n    return (\n        <Container className='centered-content compensate-header'>\n            {\n                isSearchResult ? renderEmptySearchResultView() : renderEmptyRoomListView()\n            }\n        </Container>\n    )\n}\n\nexport default EmptyRoomList","import EmptyRoomList from './EmptyRoomList-View'\n\nexport default EmptyRoomList","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { ButtonGroup } from 'react-bootstrap';\n\nimport { DeleteRoomModalTrigger } from '../../../standalone/RoomModalTriggers'\nimport { JoinRoomButton } from '../../../standalone/RoomActionButtons'\n\nconst getJoinRoomAction = (joinRoomProgress, onClick) => {\n    return <JoinRoomButton\n        progress={joinRoomProgress}\n        propsProgressInitial={{\n            label: 'Join',\n            onClick\n        }}\n    />\n}\n\nconst getDeleteRoomAction = (room) => {\n    return <DeleteRoomModalTrigger room={room}>Delete</DeleteRoomModalTrigger>\n}\n\nconst getOpenRoomAction = (room) => {\n    const roomId = room.roomId ? room.roomId : ''\n    return (\n        <Link to={`/rooms/${roomId}`} className='btn btn-outline-primary'>\n            Open\n        </Link>\n    )\n}\n\nconst RoomListItemActions = (props) => {\n    const { room, isCurrentUserRoomMember, isCurrentUserRoomAdmin, ...restProps } = props\n\n    const getActionsForRoomMember = () => {\n        return (\n            <ButtonGroup>\n                {getOpenRoomAction(room)}\n                {isCurrentUserRoomAdmin ? getDeleteRoomAction(room) : null}\n            </ButtonGroup>\n        )\n    }\n\n    const getActionsForNonRoomMember = () => {\n        const { joinRoomProgress, onJoinRoomButtonClick } = restProps\n        const onClick = () => onJoinRoomButtonClick(room ? room.roomId : '')\n        return getJoinRoomAction(joinRoomProgress, onClick)\n    }\n\n    return isCurrentUserRoomMember ? getActionsForRoomMember() : getActionsForNonRoomMember()\n}\n\n\nexport default RoomListItemActions\n","import React from 'react';\nimport isEmpty from 'is-empty'\nimport { connect } from 'react-redux';\n\nimport RoomListItemActions from './RoomListItemActions-View'\n\nclass RoomListItemActionsRedux extends React.Component {\n    getMemberReferenceOfCurrentUser = () => {\n        const { room, currentUser } = this.props\n        if (!room || !currentUser) {\n            return null\n        }\n\n        const currentUserMatchesRoomMemberUser = (roomMember) => {\n            return roomMember && roomMember.user && roomMember.user._id === currentUser._id\n        }\n\n        return room.members.find(currentUserMatchesRoomMemberUser)\n    }\n\n    isCurrentUserRoomMember = (currentUserMemberReference) => {\n        return !isEmpty(currentUserMemberReference)\n    }\n\n    isCurrentUserRoomAdmin = (currentUserMemberReference) => {\n        if (!this.isCurrentUserRoomMember(currentUserMemberReference)) {\n            return false\n        }\n\n        const currentUserMemberType = currentUserMemberReference.memberType\n        return currentUserMemberType === 'admin'\n    }\n\n    render() {\n        const currentUserMemberReference = this.getMemberReferenceOfCurrentUser()\n        return (\n            <RoomListItemActions\n                isCurrentUserRoomMember={this.isCurrentUserRoomMember(currentUserMemberReference)}\n                isCurrentUserRoomAdmin={this.isCurrentUserRoomAdmin(currentUserMemberReference)}\n                {...this.props}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { currentUser: state.user.user, isUserLoggedIn: state.user.isLoggedIn }\n}\n\nexport default connect(mapStateToProps)(RoomListItemActionsRedux);","import RoomListItemActions from './RoomListItemActions-Redux'\n\nexport default RoomListItemActions","const getAppropriateTimeDifferenceData = (oneDate, otherDate) => {\n    const differenceInYears = oneDate.getYear() - otherDate.getYear()\n    if (differenceInYears > 0) {\n        let unit = differenceInYears > 1 ? 'years' : 'year'\n        return { unit, difference: differenceInYears }\n    }\n\n    const differenceInMonths = oneDate.getMonth() - otherDate.getMonth()\n    if (differenceInMonths > 0) {\n        let unit = differenceInMonths > 1 ? 'months' : 'month'\n        return { unit, difference: differenceInMonths }\n    }\n\n    const differenceInDays = oneDate.getDate() - otherDate.getDate()\n    if (differenceInDays > 0) {\n        let unit = differenceInDays > 1 ? 'days' : 'day'\n        return { unit, difference: differenceInDays }\n    }\n\n    const differenceInHours = oneDate.getHours() - otherDate.getHours()\n    if (differenceInHours > 0) {\n        let unit = differenceInHours > 1 ? 'hrs' : 'hr'\n        return { unit, difference: differenceInHours }\n    }\n\n    const differenceInMinutes = oneDate.getMinutes() - otherDate.getMinutes()\n    if (differenceInMinutes > 0) {\n        let unit = differenceInMinutes > 1 ? 'mins' : 'min'\n        return { unit, difference: differenceInMinutes }\n    }\n\n    const differenceInSeconds = oneDate.getSeconds() - otherDate.getSeconds()\n    if (differenceInSeconds > 0) {\n        let unit = differenceInSeconds > 1 ? 'secs' : 'sec'\n        return { unit, difference: differenceInSeconds }\n    }\n}\n\nconst getAppropriateTimeDifferenceText = (oneDate, otherDate) => {\n    if (oneDate < otherDate) {\n        const errMsg = '[ISODateToReadableString.getAppropriateTimeDifferenceText] First date argument must be greater than the second argument'\n        throw new Error(errMsg)\n    }\n\n    const timeDiffData = getAppropriateTimeDifferenceData(oneDate, otherDate)\n    if (!timeDiffData) {\n        return 'just now'\n    }\n\n    return `${timeDiffData.difference}${timeDiffData.unit} ago`\n}\n\nexport default (isoDate) => {\n    if (!isoDate) {\n        return '<unknown>'\n    }\n\n    const argDate = new Date(isoDate)\n    const todayDate = new Date()\n\n    return getAppropriateTimeDifferenceText(todayDate, argDate)\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, ListGroupItem } from 'react-bootstrap';\n\nimport RoomListItemActions from '../RoomListItemActions'\nimport convertISODateToReadableString from '../../../../helpers/convertISODateToReadableString'\n\nconst RoomListItem = ({\n    room,\n    onJoinRoomButtonClick,\n    joinRoomProgress,\n    ...props\n}) => {\n\n    if (!room) return null\n\n    const getTitle = () => {\n        return <Link to={`/rooms/${room.roomId}`}>{room.name}</Link>\n    }\n\n    const getSubtitle = () => {\n        const roomOwner = room.createdBy\n        const roomCreatedBy = roomOwner ? roomOwner.username : '<unknown>'\n        const roomCreatedAt = convertISODateToReadableString(room.createdAt)\n\n        return (\n            <span className='max-width-100 subtitle'>\n                Created {roomCreatedAt} by {roomCreatedBy}\n            </span>\n        )\n    }\n\n    return (\n        <ListGroupItem className='px-0'>\n            <Container fluid className='d-flex flex-row justify-content-between'>\n                <div className='text-overflow-ellipses'>\n                    <h5 className='max-width-100 text-overflow-ellipses'>{getTitle()}</h5>\n                    {getSubtitle()}\n                </div>\n                <div>\n                    <RoomListItemActions\n                        room={room}\n                        onJoinRoomButtonClick={onJoinRoomButtonClick}\n                        joinRoomProgress={joinRoomProgress}\n                    />\n                </div>\n            </Container>\n        </ListGroupItem>\n    )\n}\n\nexport default RoomListItem;\n","import React from 'react';\n\nimport RoomListItemView from './RoomListItem-View'\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../../standalone/ProgressButton'\n\nclass RoomListItemContainer extends React.Component {\n    state = { joinRoomProgress: PROGRESS_INITIAL }\n\n    onJoinRoomPending = () => {\n        this.setState({ joinRoomProgress: PROGRESS_PENDING })\n    }\n\n    onJoinRoomSuccess = () => {\n        this.setState({ joinRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onJoinRoomFailure = () => {\n        this.setState({ joinRoomProgress: PROGRESS_FAIL })\n    }\n\n    onJoinRoomButtonClick = (roomId) => {\n        this.onJoinRoomPending()\n        this.props.joinRoom(roomId, this.onJoinRoomSuccess, this.onJoinRoomFailure)\n    }\n\n    render() {\n        return (\n            <RoomListItemView\n                onJoinRoomButtonClick={this.onJoinRoomButtonClick}\n                {...this.state}\n                {...this.props}\n            />\n        )\n    }\n}\n\nexport default RoomListItemContainer;\n","import RoomListItem from './RoomListItem-Redux'\n\nexport default RoomListItem","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport RoomListItemContainer from './RoomListItem-Container'\nimport { joinRoom } from '../../../../redux/actions/room-actions'\n\nconst RoomListItemRedux = (props) => {\n    return <RoomListItemContainer {...props} />\n}\n\nexport default connect(null, { joinRoom })(RoomListItemRedux)","import React from 'react';\nimport { Button, Container, Form, FormCheck } from 'react-bootstrap'\nimport { reduxForm, Field } from 'redux-form'\n\nconst FORM_ID = 'rooms-sort-form'\n\nclass RoomListControlsForm extends React.Component {\n    renderRadioButton = ({ input, ...formProps }) => {\n        return <FormCheck {...formProps} {...input} />\n    }\n\n    renderRadioButtonFields() {\n        const radioButtonPropsList = [\n            { label: 'By name (ascending)', value: 'name-asc', id: 1 },\n            { label: 'By name (descending)', value: 'name-des', id: 2 },\n            { label: 'By date of creation (oldest first)', value: 'date-asc', id: 3 },\n            { label: 'By date of creation (newest first)', value: 'date-des', id: 4 }\n        ]\n\n        return radioButtonPropsList.map(({ id, ...checkboxProps }) => {\n            return (\n                <Field\n                    component={this.renderRadioButton}\n                    type='radio'\n                    name='sortBy'\n                    key={id}\n                    checked={id === 1}\n                    required\n                    {...checkboxProps}\n                />\n            )\n        })\n    }\n\n    render() {\n        const { handleSubmit, onFormSubmit } = this.props\n\n        return (\n            <Form id={FORM_ID} onSubmit={handleSubmit(onFormSubmit)}>\n                {this.renderRadioButtonFields()}\n                <hr />\n                <Container fluid className='text-right'>\n                    <Button size='sm' variant='outline-primary' type='submit' form={FORM_ID}>\n                        Done\n                    </Button>\n                </Container>\n            </Form>\n        )\n    }\n}\n\nexport default reduxForm({\n    form: FORM_ID,\n    initialValues: {sortBy: 'name-asc'},\n    destroyOnUnmount: false\n})(RoomListControlsForm);\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSort } from '@fortawesome/free-solid-svg-icons'\n\nimport { Dropdown } from '../../../standalone'\nimport RoomListControlsForm from '../RoomListControlsForm'\nimport IconButton, { ICON_POS_LEFT } from '../../../standalone/IconButton';\n\nconst SortRoomDropdownButton = ({ onSortFormSubmit }) => {\n    const hideDropdown = () => {\n        //Since rootClose is set to true in OverlayTrigger in Dropdown,\n        //clicking anywhere on body dismisses the dropdown\n        document.body.click()\n    }\n\n    const getSortButton = () => {\n        return (\n            <IconButton\n                icon={<FontAwesomeIcon icon={faSort} />}\n                iconPos={ICON_POS_LEFT}\n                className='no-highlight-around-element'\n                variant='secondary'\n                size='sm'\n            >\n                Sort By\n            </IconButton>\n        )\n    }\n\n    const getSortOptions = () => {\n        const onFormSubmit = (formValues) => {\n            hideDropdown()\n            onSortFormSubmit(formValues)\n        }\n        return <RoomListControlsForm onFormSubmit={onFormSubmit} />\n    }\n\n    return (\n        <Dropdown\n            menu={getSortOptions()}\n            triggerComponent={getSortButton()}\n            show={true}\n        />\n    )\n}\n\nexport default SortRoomDropdownButton\n","import RoomListControlsSearchField from './RoomListSearchField-View'\n\nexport default RoomListControlsSearchField","import React from 'react';\nimport { FormControl, InputGroup } from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nconst RoomListSearchFieldView = ({ onSearchFieldInputChange }) => {\n    return (\n        <InputGroup className='rounded'>\n            <InputGroup.Prepend>\n                <InputGroup.Text>\n                    <FontAwesomeIcon icon={faSearch} />\n                </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n                name='searchQuery'\n                placeholder='Search Rooms'\n                onChange={onSearchFieldInputChange}\n            />\n        </InputGroup>\n    )\n}\n\nexport default RoomListSearchFieldView;\n","import RoomListControlsHeader from './RoomListControlsHeader-View'\n\nexport default RoomListControlsHeader","import React from 'react';\nimport { Container } from 'react-bootstrap'\n\nimport SortRoomDropdownButton from './SortRoomDropdownButton'\nimport RoomListSearchField from '../RoomListSearchField'\n\n\nconst RoomListControlsHeader = ({ onSortFormSubmit, onSearchFieldInputChange }) => {\n    return (\n        <Container fluid className='room-page-sub-header d-flex align-items-center justify-content-between px-sm-0 mx-sm-0'>\n            <Container fluid>\n                <SortRoomDropdownButton onSortFormSubmit={onSortFormSubmit} />\n            </Container>\n            <Container fluid>\n                <RoomListSearchField onSearchFieldInputChange={onSearchFieldInputChange} />\n            </Container>\n        </Container>\n    )\n}\n\nexport default RoomListControlsHeader;\n","import RoomListPagination from './RoomListPagination-View'\n\nexport default RoomListPagination","import React from 'react';\nimport { Container, Pagination } from 'react-bootstrap'\n\nimport { TooltipWrapper } from '../../../standalone'\nimport {\n    getPaginationOffsets,\n    MAX_PAGE_NUMBERS_DISPLAYED\n} from './utils'\n\nconst RoomListPaginationView = ({\n    totalRooms,\n    itemsPerPage,\n    currentPageNumber,\n    setCurrentPageNumber,\n}) => {\n\n    const totalPages = Math.ceil(totalRooms.length / itemsPerPage)\n\n    const onPaginationItemClick = (itemNumber) => {\n        setCurrentPageNumber(itemNumber)\n    }\n\n    const onPaginationPreviousClick = () => {\n        setCurrentPageNumber(Math.max(currentPageNumber - 1, 1))\n    }\n\n    const onPaginationNextClick = () => {\n        setCurrentPageNumber(Math.min(currentPageNumber + 1, totalPages))\n    }\n\n    const onPaginationFirstClick = () => {\n        setCurrentPageNumber(1)\n    }\n\n    const onPaginationLastClick = () => {\n        setCurrentPageNumber(totalPages)\n    }\n\n    const getPaginationItems = () => {\n        const paginationItems = []\n\n        for (let pageIndex = 1; pageIndex <= totalPages; pageIndex++) {\n            paginationItems.push(\n                <Pagination.Item\n                    active={currentPageNumber === pageIndex}\n                    key={pageIndex}\n                    id={pageIndex}\n                    onClick={() => onPaginationItemClick(pageIndex)}\n                >\n                    {pageIndex}\n                </Pagination.Item>\n            )\n        }\n\n        if (paginationItems.length > MAX_PAGE_NUMBERS_DISPLAYED) {\n            const {\n                leftOffset,\n                rightOffset\n            } = getPaginationOffsets(currentPageNumber, paginationItems.length)\n\n            const rightEllipsis = [rightOffset < paginationItems.length ?\n                <Pagination.Ellipsis key='ellipsis-right' /> : null]\n            const leftEllipsis = [leftOffset > 0 ?\n                <Pagination.Ellipsis key='ellipsis-left' /> : null]\n\n            return [\n                ...leftEllipsis,\n                ...paginationItems.slice(leftOffset, rightOffset + 1),\n                ...rightEllipsis\n            ]\n        }\n\n        return paginationItems\n    }\n\n    return (\n        <Container fluid className='d-flex flex-column align-items-center mt-5'>\n            <p>Showing Page {currentPageNumber} of {totalPages}</p>\n            <Pagination className='mx-auto'>\n\n                <TooltipWrapper\n                    label='First page'\n                    id='pagination-first'\n                    triggerComponent={<Pagination.First onClick={onPaginationFirstClick} />}\n                />\n                <TooltipWrapper\n                    triggerComponent={<Pagination.Prev onClick={onPaginationPreviousClick} />}\n                    label='Previous Page'\n                    id='pagination-prev'\n                />\n\n                {getPaginationItems()}\n\n                <TooltipWrapper\n                    triggerComponent={<Pagination.Next onClick={onPaginationNextClick} />}\n                    label='Next Page'\n                    id='pagination-next'\n                />\n                <TooltipWrapper\n                    triggerComponent={<Pagination.Last onClick={onPaginationLastClick} />}\n                    label='Last Page'\n                    id='pagination-last'\n                />\n\n            </Pagination>\n        </Container>\n    )\n}\n\nexport default RoomListPaginationView;\n","const MAX_PAGE_NUMBERS_DISPLAYED = 10\nconst MAX_ALLOWED_PAGE_OFFSET = MAX_PAGE_NUMBERS_DISPLAYED / 2 - 1\n\nconst getLeftOffset = (currentPageNumber) => {\n    if ((currentPageNumber - 1) < MAX_ALLOWED_PAGE_OFFSET) {\n        return 0\n    }\n    return (currentPageNumber - 1) - MAX_ALLOWED_PAGE_OFFSET\n}\n\nconst getRightOffset = (currentPageNumber) => {\n    return (currentPageNumber - 1) + MAX_ALLOWED_PAGE_OFFSET\n}\n\nconst getPaginationOffsets = (currentPageNumber, totalPages) => {\n    const leftOffset = getLeftOffset(currentPageNumber)\n    const rightOffset = getRightOffset(currentPageNumber)\n\n    const offsets = { left: leftOffset, right: rightOffset }\n\n    if (leftOffset !== 0 && rightOffset >= totalPages) {\n        offsets.left -= ((rightOffset + 1) - (totalPages - 1))\n    }\n    if (leftOffset === 0) {\n        offsets.right += (MAX_ALLOWED_PAGE_OFFSET + 1) - (currentPageNumber - 1)\n    }\n\n    return {\n        leftOffset: offsets.left,\n        rightOffset: offsets.right\n    }\n}\n\nexport { getPaginationOffsets, MAX_PAGE_NUMBERS_DISPLAYED, MAX_ALLOWED_PAGE_OFFSET }","import React from 'react'\nimport isEmpty from 'is-empty'\nimport { Container, ListGroup } from 'react-bootstrap'\n\nimport {\n    EmptyRoomList,\n    RoomListControlsHeader,\n    RoomListItem,\n    RoomListPagination\n} from './components/'\n\n\nconst RoomList = ({\n    roomsToDisplay,\n    isSearchResult,\n    onSortFormSubmit,\n    onSearchFieldInputChange,\n    setCurrentPageNumber,\n    ...otherProps\n}) => {\n\n    const renderRoomList = () => {\n        if (isEmpty(roomsToDisplay)) {\n            return <EmptyRoomList isSearchResult={isSearchResult}/>\n        }\n\n        return (\n            <ListGroup variant='flush' className='mx-0 mt-3'>\n                {\n                    roomsToDisplay.map((room) => {\n                        return <RoomListItem room={room} key={room.roomId} />\n                    })\n                }\n            </ListGroup>\n        )\n    }\n\n    const updatePageNumber = (pageNumber) => {\n        setCurrentPageNumber(pageNumber)\n    }\n\n    //TODO: Add custom sort style where users can drag a room up and down \n    //according to their convenience\n    return (\n        <Container fluid className='pb-5 mb-5' >\n            <RoomListControlsHeader\n                onSortFormSubmit={onSortFormSubmit}\n                onSearchFieldInputChange={onSearchFieldInputChange}\n            />\n            {renderRoomList()}\n            {\n                !isEmpty(roomsToDisplay)\n                    ? <RoomListPagination {...otherProps} setCurrentPageNumber={updatePageNumber} />\n                    : null\n            }\n        </Container>\n    )\n}\n\nexport default RoomList;\n","const byName = (room, otherRoom) => {\n    if (!room || !room.name) {\n        return otherRoom ? -1 : 1\n    }\n\n    if (!otherRoom || !otherRoom.name) {\n        return room ? 1 : -1\n    }\n\n    return room.name.localeCompare(otherRoom.name)\n}\n\nconst byDate = (room, otherRoom) => {\n    if (!room || !room.createdAt) {\n        return otherRoom ? -1 : 1\n    }\n\n    if (!otherRoom || !otherRoom.createdAt) {\n        return room ? 1 : -1\n    }\n\n    return room.createdAt.localeCompare(otherRoom.createdAt)\n}\n\nexport default { byName, byDate }","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport RoomList from './RoomList-View'\nimport { fetchPublicRooms } from '../../redux/actions/room-actions'\nimport {\n    setSortTechnique,\n    setCurrentPageNumber,\n    setSearchQuery\n} from '../../redux/actions/room-list-display-settings-actions'\nimport { sort as roomSortingTechniques } from './utils'\n\nimport loggerInit from '../../helpers/logger'\nimport isEmpty from 'is-empty';\n\nconst logger = loggerInit('[RoomListContainer] ')\n\nclass RoomListContainer extends React.Component {\n    componentDidMount() {\n        this.props.fetchPublicRooms(this.onRoomFetchFail)\n    }\n\n    onRoomFetchFail = ({ response }) => {\n        logger.debug('RoomList fetch fail: ', response)\n    }\n\n    getSortedRoomList = (rooms) => {\n        const { roomListDisplaySettings: { sortBy } } = this.props\n\n        if (!rooms) {\n            return []\n        }\n\n        switch (sortBy) {\n            case 'name-des':\n                return rooms.sort(roomSortingTechniques.byName).reverse()\n            case 'date-asc':\n                return rooms.sort(roomSortingTechniques.byDate)\n            case 'date-des':\n                return rooms.sort(roomSortingTechniques.byDate).reverse()\n            case 'name-asc':\n            default:\n                return rooms.sort(roomSortingTechniques.byName)\n        }\n    }\n\n    onSortFormSubmit = (formValues) => {\n        this.props.setSortTechnique(formValues.sortBy)\n    }\n\n    onSearchFieldInputChange = (e) => {\n        this.props.setSearchQuery(e.target.value)\n    }\n\n    getPaginatedRoomList = (sortedRooms) => {\n        const { roomListDisplaySettings: { itemsPerPage, currentPageNumber } } = this.props\n        if (sortedRooms.length <= itemsPerPage) {\n            return sortedRooms\n        }\n\n        //Page numbers are 1-indexed (1, 2, 3...) whereas array is 0-indexed (0, 1, 2...)\n        //So to make 1-indexed page number applicable while indexing array, \n        //we subtract 1 from the page number\n        const offset = itemsPerPage * (currentPageNumber - 1);\n        const to = Math.min(offset + itemsPerPage, sortedRooms.length)\n        return sortedRooms.slice(offset, to)\n    }\n\n    getSearchQuery = () => {\n        const { roomListDisplaySettings: { searchQuery } } = this.props\n        return searchQuery && searchQuery.toLowerCase().trim()\n    }\n\n    filterRoomListBySearchQuery = (roomList, searchQuery) => {\n        if (searchQuery) {\n            return roomList.filter(room => {\n                const roomName = room && room.name\n                return roomName && roomName.toLowerCase().includes(searchQuery)\n            })\n        }\n\n        return roomList\n    }\n\n    getRooms = (searchQuery) => {\n        const rooms = [...this.props.rooms]\n        return this.getSortedRoomList(this.filterRoomListBySearchQuery(rooms, searchQuery))\n    }\n\n    render() {\n        const {\n            roomListDisplaySettings,\n            setCurrentPageNumber\n        } = this.props\n\n        const searchQuery = this.getSearchQuery()\n        const rooms = this.getRooms(searchQuery)\n        const paginatedRooms = this.getPaginatedRoomList(rooms)\n\n        return (\n            <RoomList\n                totalRooms={rooms}\n                roomsToDisplay={paginatedRooms}\n                isSearchResult={!isEmpty(searchQuery)}\n                onSortFormSubmit={this.onSortFormSubmit}\n                onSearchFieldInputChange={this.onSearchFieldInputChange}\n                setCurrentPageNumber={setCurrentPageNumber}\n                {...roomListDisplaySettings}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        rooms: Object.values(state.rooms),\n        roomListDisplaySettings: state.roomListDisplaySettings,\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    { fetchPublicRooms, setSortTechnique, setCurrentPageNumber, setSearchQuery }\n)(RoomListContainer);\n","class Logger {\n    constructor(loggerKey) {\n        this.loggerKey = loggerKey\n    }\n\n    debug(...args) {\n        console.log(this.loggerKey, ...args)\n    }\n}\n\nexport default (loggerKey) => {\n    return new Logger(loggerKey)\n}","import RoomList from './RoomList-Redux'\n\nexport default RoomList","import { FETCH_PUBLIC_ROOMS } from '../../action-constants'\nimport { getAllRooms } from '../../../server-communication/httpServer'\n\nexport default (onFailure) => async dispatch => {\n    getAllRooms((response) => {\n        dispatch({ type: FETCH_PUBLIC_ROOMS, payload: response.data })\n    }, onFailure)\n}","import { SET_ROOM_LIST_SORT_TECHNIQUE } from \"../../action-constants\"\n\nexport default (technique) => {\n    return {\n        type: SET_ROOM_LIST_SORT_TECHNIQUE,\n        payload: technique\n    }\n}","import { SET_ROOM_LIST_CURRENT_PAGE_NUMBER } from \"../../action-constants\"\n\nexport default (currentPageNumber) => {\n    return {\n        type: SET_ROOM_LIST_CURRENT_PAGE_NUMBER,\n        payload: currentPageNumber\n    }\n}","import { SET_ROOM_LIST_SEARCH_QUERY } from \"../../action-constants\";\n\nexport default (searchQuery) => {\n    return {\n        type: SET_ROOM_LIST_SEARCH_QUERY,\n        payload: searchQuery\n    }\n}","import React from 'react';\nimport { Row, Col, Container } from 'react-bootstrap'\n\nimport withLayout from '../../components/hoc/WithLayout'\nimport Room from '../../components/Room'\nimport RoomList from '../../components/RoomList'\nimport './Route-Room-Style.scss'\n\nconst getRoomListColProps = (roomId) => {\n    const fixedClass = 'overflow-auto h-100'\n    if (roomId) {\n        return { xl: 5, lg: 5, md: 5, sm: 0, xs: 0, className: `d-none d-md-block ${fixedClass}` }\n    } else {\n        return { className: fixedClass }\n    }\n}\n\nconst getRoomColProps = (roomId) => {\n    const fixedProps = { xl: 7, lg: 7, md: 7 }\n    const otherProps = roomId ? { xs: 12, sm: 12, className: 'h-100' } : {}\n\n    return { ...fixedProps, ...otherProps }\n}\n\nconst renderRoomCol = (roomId) => {\n    if (roomId) {\n        return (\n            <Col {...getRoomColProps(roomId)} >\n                <Room roomId={roomId} key={roomId} />\n            </Col>\n        )\n    }\n}\n\nconst renderRoomListCol = (roomId) => {\n    return (\n        <Col {...getRoomListColProps(roomId)}>\n            <RoomList />\n        </Col>\n    )\n}\n\nconst RouteRooms = (props) => {\n    const roomId = props.match.params.id\n\n    const content = (\n        <Container fluid className='pl-0 pr-0 room-page-container'>\n            <Row className='mx-0 no-gutters h-100'>\n                {renderRoomListCol(roomId)}\n                {renderRoomCol(roomId)}\n            </Row>\n        </Container>\n    )\n\n    return withLayout(content)\n}\n\nexport default RouteRooms;\n","import RouteRooms from './Route-Rooms'\n\nexport default RouteRooms","import React from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\n\nimport RouteRoot from './root'\nimport RouteLogin from './login'\nimport RouteRegister from './register'\nimport RouteRooms from './rooms'\n\nconst AppRouter = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route exact path=\"/\" component={RouteRoot} />\n                <Route exact path=\"/rooms/:id?\" component={RouteRooms} />\n                <Route exact path=\"/login\" component={RouteLogin} />\n                <Route exact path=\"/register\" component={RouteRegister} />\n            </Switch>\n        </BrowserRouter>\n    )\n}\n\nexport default AppRouter","import React from 'react';\n\nimport AppRouter from '../../routes/'\n\nconst App = (props) => {\n    if (props.serverConnectionFailed) {\n        return <div className='centered-content'>Cannot Connect To Server</div>;\n    }\n\n    return <AppRouter />\n}\n\n\nexport default App;","import React from 'react';\n\nimport AppView from './App-View'\nimport { onServerConnected, onServerDisconnected } from '../../server-communication/socketServer'\n\nclass AppContainer extends React.Component {\n    state = {\n        serverConnectionFailed: false\n    }\n\n    componentDidMount() {\n        const { connectToServer, updateUser } = this.props\n\n        connectToServer(this.onServerDisconnected);\n        onServerDisconnected(this.onServerDisconnected);\n        onServerConnected(this.onServerConnected);\n        updateUser()\n    }\n\n    onServerConnected = () => {\n        this.setState({ serverConnectionFailed: false })\n    }\n\n    onServerDisconnected = () => {\n        //TODO: Use redux store for this state as it affects the whole application\n        this.setState({ serverConnectionFailed: true })\n    }\n\n    render() {\n        return (\n            <AppView {...this.state} />\n        );\n    }\n}\n\nexport default AppContainer\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport AppContainer from './App-Container'\nimport { connectToServer as connectToServerAction } from '../../redux/actions/server-actions'\nimport { updateUser as updateUserAction } from '../../redux/actions/user-actions';\n\nconst AppRedux = ({ connectToServer, updateUser }) => {\n    return (\n        <AppContainer\n            connectToServer={connectToServer}\n            updateUser={updateUser}\n        />\n    )\n}\n\nconst mapDispatchToProps = {\n    connectToServer: connectToServerAction,\n    updateUser: updateUserAction\n}\n\nexport default connect(null, mapDispatchToProps)(AppRedux);\n","import { connectToServer } from '../../../server-communication/socketServer'\nimport { CONNECT_TO_SERVER } from '../../action-constants'\n\nexport default (onConnectionFailed) => async (dispatch) => {\n    /*\n        TODO: This function will dispatch connected:true even if the connection may have failed.\n            Although the onConnectionFailed callback takes care of it,\n            the connection status should be either removed from redux store and use callback(s) only\n            or remove callback(s) and read/update the connection status from/on the redux store\n    */\n    await connectToServer(onConnectionFailed);\n    dispatch({ type: CONNECT_TO_SERVER, payload: { connected: true } })\n}\n","import App from './App-Redux'\n\nexport default App","import React from 'react';\n\nimport Modal from 'react-bootstrap/Modal';\n\nconst GenericModal = ({ visible, hideModal, header, content, actions }) => {\n    return (\n        <Modal\n            show={visible}\n            onHide={hideModal}\n            centered\n        >\n            <Modal.Header closeButton onHide={hideModal}>\n                <Modal.Title>\n                    {header}\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {content}\n            </Modal.Body>\n            <Modal.Footer>\n                {actions}\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default GenericModal;\n","import React from 'react';\nimport { Field } from 'redux-form'\nimport { Alert, Form, FormGroup, FormControl, InputGroup } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport { TooltipWrapper } from '../../../../standalone'\nimport './CreateRoomForm-Style.scss';\n\n\nconst renderRadioOptionHelp = (radioOption) => {\n    const createHelp = (tooltipProps) => {\n        const helpIcon = <FontAwesomeIcon icon={faQuestionCircle} />\n        return <TooltipWrapper triggerComponent={helpIcon} {...tooltipProps} />\n    }\n\n    //eslint-disable-next-line\n    switch (radioOption) {\n        case 'private':\n            return createHelp({\n                id: 'private-room-opt',\n                label: 'Private rooms require permission to join and are not listed publicly'\n            })\n        case 'unlisted':\n            return createHelp({\n                id: 'private-room-opt',\n                label: 'Unlisted rooms can be joined by anyone but are not listed publicly'\n            })\n        case 'public':\n            return createHelp({\n                id: 'private-room-opt',\n                label: 'Public rooms are listed publicly and can be joined by anyone'\n            })\n    }\n}\n\nconst renderRadioButtonGroup = (formProps) => {\n    const { input, meta } = formProps;\n    const hasErrors = meta.touched && meta.error;\n    const impureFormNoErrors = !meta.pristine && !hasErrors;\n    const radioOptions = [\n        { label: 'Private', value: 'private' },\n        { label: 'Public', value: 'public' },\n        { label: 'Unlisted', value: 'unlisted' }\n    ]\n\n    const radioInputs = radioOptions.map(option => {\n        return (\n            <Form.Group controlId={`roomType-${option.value}`} key={option.value}>\n                <InputGroup>\n                    <Form.Check\n                        {...input}\n                        {...option}\n                        type=\"radio\"\n                        isInvalid={hasErrors}\n                        isValid={impureFormNoErrors}\n                    />\n                    <InputGroup.Append>\n                        {renderRadioOptionHelp(option.value)}\n                    </InputGroup.Append>\n                </InputGroup>\n            </Form.Group>\n        )\n    })\n\n    return (\n        <Form.Group controlId=\"create-room-form-type\">\n            <Form.Label><strong>Select Room Type:</strong></Form.Label>\n            {radioInputs}\n            {hasErrors && <Alert variant=\"danger\">{meta.error}</Alert>}\n        </Form.Group>\n    );\n}\n\nconst renderRoomNameField = (formProps) => {\n    const { input, meta } = formProps;\n    const hasErrors = meta.touched && meta.error;\n    const impureFormNoErrors = !meta.pristine && !hasErrors;\n\n    return (\n        <FormGroup controlId=\"create-room-form-name\">\n            <Form.Label><strong>{formProps.label}</strong></Form.Label>\n            <FormControl {...formProps} {...input} isInvalid={hasErrors} isValid={impureFormNoErrors} />\n            <Form.Control.Feedback size=\"lg\" type=\"invalid\">{meta.error}</Form.Control.Feedback>\n        </FormGroup>\n    );\n}\n\nconst CreateRoomFormView = (props) => {\n    const { onFormSubmit } = props\n    return (\n        <Form noValidate id=\"create-room-form\" onSubmit={onFormSubmit}>\n            <Field\n                component={renderRoomNameField}\n                name=\"roomName\"\n                label=\"Enter Room Name:\"\n                placeholder=\"Example: The Mystical Room\"\n                required\n            />\n            <hr />\n            <Field component={renderRadioButtonGroup} name='roomType' />\n        </Form>\n    );\n}\n\n\nexport default CreateRoomFormView","import CreateRoomForm from './CreateRoomForm-Redux'\n\nexport default CreateRoomForm","import React from 'react';\nimport { reduxForm } from 'redux-form'\n\nimport CreateRoomFormView from './CreateRoomForm-View'\nimport validate from './validate';\n\nconst CreateRoomForm = (props) => {\n    const { handleSubmit, onFormSubmit } = props\n\n    return (\n        <CreateRoomFormView\n            onFormSubmit={handleSubmit(onFormSubmit)}\n        />\n    )\n}\n\n\nexport default reduxForm({\n    form: 'createRoomForm',\n    validate: validate\n})(CreateRoomForm)","export default (values) => {\n    const errors = {}\n    if (!values.roomName) {\n        errors.roomName = 'Room name cannot be empty'\n    }\n\n    if (!values.roomType) {\n        errors.roomType = 'Please choose one of the room types above'\n    }\n\n    return errors\n}","import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\nimport GenericModal from '../GenericModal';\nimport { CreateRoomForm } from './components'\n\nimport { CreateRoomButton } from '../../standalone/RoomActionButtons'\n\nconst CreateRoomModalView = ({\n    isModalVisible,\n    hideModal,\n    createRoomFormData,\n    createRoomProgress,\n    onFormSubmit\n}) => {\n    const getModalActions = () => {\n        const hasErrors = createRoomFormData && createRoomFormData.syncErrors\n        return (\n            <>\n                <Button variant='secondary' onClick={hideModal}>Cancel</Button>\n                <CreateRoomButton\n                    progress={createRoomProgress}\n                    form='create-room-form'\n                    type='submit'\n                    disabled={hasErrors}\n                    className={`cursor-${hasErrors ? 'not-allowed' : 'pointer'}`}\n                />\n            </>\n        );\n    }\n\n    const getModalContent = () => {\n        return <CreateRoomForm onFormSubmit={onFormSubmit} />\n    }\n    \n    return (\n        <GenericModal\n            header='Create Room'\n            actions={getModalActions()}\n            content={getModalContent()}\n            visible={isModalVisible}\n            hideModal={hideModal}\n        />\n    );\n}\n\nexport default CreateRoomModalView\n\n","import React from 'react';\n\nimport CreateRoomModalView from './CreateRoomModal-View'\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\n\nclass CreateRoomModalContainer extends React.Component {\n    state = { createRoomProgress: PROGRESS_INITIAL }\n\n    onCreateRoomPending = () => {\n        this.setState({ createRoomProgress: PROGRESS_PENDING })\n    }\n\n    onCreateRoomSuccess = () => {\n        this.setState({ createRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onCreateRoomFailure = () => {\n        this.setState({ createRoomProgress: PROGRESS_FAIL })\n    }\n\n    onFormSubmit = ({ roomName, roomType }) => {\n        this.onCreateRoomPending()\n        const { createRoom } = this.props\n        createRoom(roomName, roomType, this.onCreateRoomSuccess, this.onCreateRoomFailure)\n    }\n\n    render() {\n        return <CreateRoomModalView onFormSubmit={this.onFormSubmit} {...this.state} {...this.props} />\n    }\n}\n\nexport default CreateRoomModalContainer\n\n","import CreateRoomModal from './CreateRoomModal-Redux'\n\nexport default CreateRoomModal","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport CreateRoomModalContainer from './CreateRoomModal-Container'\nimport { createRoom as createRoomAction } from '../../../redux/actions/room-actions';\nimport { hideModal as hideModalAction } from '../../../redux/actions/modal-actions';\n\nconst CreateRoomModalRedux = (props) => {\n    return <CreateRoomModalContainer {...props} />\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isModalVisible: state.modal.isModalOpen && state.modal.modalName === 'CreateRoom',\n        createRoomFormData: state.form['createRoomForm']\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    { createRoom: createRoomAction, hideModal: hideModalAction }\n)(CreateRoomModalRedux);\n\n","import { createRoom } from '../../../server-communication/httpServer';\nimport { CREATE_ROOM } from '../../action-constants';\n\nexport default (roomName, roomType, onSuccess, onFailure) => async (dispatch) => {\n    createRoom(\n        roomName,\n        roomType,\n        (response) => {\n            dispatch({ type: CREATE_ROOM, payload: response.data })\n            onSuccess()\n        },\n        onFailure,\n    )\n}","import React from 'react'\nimport isEmpty from 'is-empty'\nimport { Field } from 'redux-form'\nimport { Form, FormControl, FormGroup, FormLabel } from 'react-bootstrap'\n\n//TODO: See this and implement -> https://github.com/redux-form/redux-form/issues/3944\nconst renderJoinRoomField = ({ input, label, meta, roomAlreadyJoinedError, ...formProps }) => {\n    const { touched, error, pristine, asyncValidating } = meta\n    const formErrors = (error && error.isAsyncValidationError) || (touched && error)\n    const hasErrors = formErrors || roomAlreadyJoinedError\n    const errorReason = roomAlreadyJoinedError || (error && (error.isAsyncValidationError ? error.reason : error))\n\n    return (\n        <FormGroup controlId='join-room'>\n            <FormLabel>{label}</FormLabel>\n            <FormControl\n                className={asyncValidating ? 'input-loading' : ''}\n                isValid={(!asyncValidating && !pristine && !hasErrors)}\n                isInvalid={hasErrors}\n                {...input}\n                {...formProps}\n            />\n            <FormControl.Feedback type='invalid'>{errorReason}</FormControl.Feedback>\n        </FormGroup>\n    )\n}\n\nconst ensureNotEmpty = (roomId) => isEmpty(roomId) ? 'RoomId is required' : undefined\n\nconst JoinRoomFormView = ({ onFormSubmit, roomAlreadyJoinedError }) => {\n    return (\n        <Form id='join-room-form' onSubmit={onFormSubmit} >\n            <Field\n                component={renderJoinRoomField}\n                name='roomId'\n                label='Enter Room Id'\n                placeholder='X-X-X-X'\n                roomAlreadyJoinedError={roomAlreadyJoinedError}\n                validate={ensureNotEmpty}\n            />\n        </Form>\n    );\n}\n\nexport default JoinRoomFormView","import isEmpty from 'is-empty'\nimport { getRoom } from '../../../../../server-communication/httpServer'\n\nconst createError = (reason, isPrivateRoomError) => {\n    return { roomId: { reason, isAsyncValidationError: true, isPrivateRoomError } }\n}\n\nconst getErrorFromResponse = (response) => {\n    switch (response.status) {\n        case 403:\n            return createError('This is a private room. You need to send a join request', true)\n        case 404:\n            return createError('No rooms matching that roomId')\n        default:\n            return createError('Some error ocurred; Please try again after sometime')\n    }\n}\n\nexport default (values) => {\n    const promise = new Promise((resolve, reject) => {\n        if (isEmpty(values.roomId)) {\n            return reject(createError('No rooms matching that roomId'))\n        }\n\n        getRoom(values.roomId)\n            .then(resolve)\n            .catch(({ response }) => {\n                reject(getErrorFromResponse(response))\n            })\n    })\n\n    return promise\n}","import JoinRoomForm from './JoinRoomForm-Redux'\n\nexport default JoinRoomForm","import React from 'react';\nimport { reduxForm } from 'redux-form'\n\nimport JoinRoomFormView from './JoinRoomForm-View'\nimport asyncValidate from './asyncValidate'\n\nconst JoinRoomFormRedux = ({ handleSubmit, onFormSubmit, roomAlreadyJoinedError }) => {\n    return (\n        <JoinRoomFormView\n            onFormSubmit={handleSubmit(onFormSubmit)}\n            roomAlreadyJoinedError={roomAlreadyJoinedError}\n        />\n    )\n}\n\nexport default reduxForm({\n    form: 'joinRoomForm',\n    asyncValidate,\n    asyncChangeFields: ['roomId']\n})(JoinRoomFormRedux)","import React from 'react';\nimport { Button } from 'react-bootstrap'\n\nimport GenericModal from '../GenericModal'\nimport { JoinRoomForm } from './components'\nimport { JoinRoomButton, SendRoomJoinRequestButton } from '../../standalone/RoomActionButtons'\n\nconst JoinRoomModalView = ({\n    roomAlreadyJoinedError,\n    isModalVisible,\n    hideModal,\n    onFormSubmit,\n    joinRoomFormData,\n    joinRoomProgress\n}) => {\n    const getModalActions = () => {\n        const getRoomActionButton = () => {\n            const asyncErrors = joinRoomFormData && joinRoomFormData.asyncErrors\n            const formErrors = joinRoomFormData && (\n                joinRoomFormData.syncErrors || asyncErrors || joinRoomFormData.asyncValidating\n            )\n            const hasErrors = formErrors || roomAlreadyJoinedError\n            const roomActionButtonProps = {\n                type: 'submit',\n                form: 'join-room-form',\n                disabled: hasErrors,\n                className: `cursor-${hasErrors ? 'not-allowed' : 'pointer'}`\n            }\n\n            if (asyncErrors && asyncErrors.roomId.isPrivateRoomError) {\n                return (\n                    <SendRoomJoinRequestButton\n                        progress={joinRoomProgress}\n                        propsProgressInitial={roomActionButtonProps}\n                    />\n                )\n            }\n\n            return (\n                <JoinRoomButton\n                    progress={joinRoomProgress}\n                    propsProgressInitial={roomActionButtonProps}\n                />\n            )\n        }\n\n        return (\n            <>\n                <Button onClick={hideModal} variant='outline-secondary'>\n                    Cancel\n                </Button>\n                {getRoomActionButton()}\n            </>\n        );\n    }\n\n    const getModalContent = () => {\n        return <JoinRoomForm\n            onFormSubmit={onFormSubmit}\n            roomAlreadyJoinedError={roomAlreadyJoinedError}\n        />\n    }\n\n    return (\n        <GenericModal\n            header=\"Join Room By Id\"\n            actions={getModalActions()}\n            content={getModalContent()}\n            visible={isModalVisible}\n            hideModal={hideModal}\n        />\n    );\n}\n\nexport default JoinRoomModalView;\n","import React from 'react'\n\nimport JoinRoomModalView from './JoinRoomModal-View'\n\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\nimport { getRoom } from '../../../server-communication/httpServer'\nimport isRoomMember from '../../../helpers/isRoomMember'\n\nclass JoinRoomModalContainer extends React.Component {\n    state = {\n        joinRoomProgress: PROGRESS_INITIAL,\n        roomAlreadyJoinedError: null\n    }\n\n    componentDidUpdate() {\n        if (this.state.roomAlreadyJoinedError) {\n            return\n        }\n\n        const { joinRoomFormData, currentUserId } = this.props\n        const form = joinRoomFormData ? joinRoomFormData : {}\n        const formHasErrors = form.syncErrors || form.asyncErrors || form.asyncValidating\n\n        if (!formHasErrors) {\n            const roomId = form.values && form.values.roomId\n\n            getRoom(roomId).then(response => {\n                const room = response.data\n                if (isRoomMember(room, currentUserId)) {\n                    this.setState({ roomAlreadyJoinedError: 'You are already a member of this room' })\n                }\n            }).catch()\n        }\n    }\n\n    onJoinRoomPending = () => {\n        this.setState({ joinRoomProgress: PROGRESS_PENDING })\n    }\n\n    onJoinRoomSuccess = () => {\n        this.setState({ joinRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onJoinRoomFailure = () => {\n        this.setState({ joinRoomProgress: PROGRESS_FAIL })\n    }\n\n    onJoinRoomFormSubmit = ({ roomId }) => {\n        this.onJoinRoomPending()\n        this.props.joinRoom(roomId, this.onJoinRoomSuccess, this.onJoinRoomFailure)\n    }\n\n    render() {\n        return (\n            <JoinRoomModalView\n                onFormSubmit={this.onJoinRoomFormSubmit}\n                {...this.props}\n                {...this.state}\n            />\n        )\n    }\n}\n\nexport default JoinRoomModalContainer","export default (room, queryUserId) => {\n    if (!room || !room.members || !queryUserId) {\n        return false\n    }\n\n    const memberDocIndex = room.members.findIndex(member => {\n        return member.user && member.user._id === queryUserId\n    })\n\n    return memberDocIndex !== -1\n}","import JoinRoomModal from './JoinRoomModal-Redux'\n\nexport default JoinRoomModal","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport JoinRoomModalContainer from './JoinRoomModal-Container'\nimport { hideModal } from '../../../redux/actions/modal-actions'\nimport { joinRoom } from '../../../redux/actions/room-actions'\n\nconst JoinRoomModalRedux = (props) => {\n    return <JoinRoomModalContainer {...props} />\n}\n\nconst mapStateToProps = (state) => {\n    const { user } = state\n    return {\n        isModalVisible: state.modal.isModalOpen && state.modal.modalName === 'JoinRoom',\n        joinRoomFormData: state.form['joinRoomForm'],\n        currentUserId: user && user.user && user.user._id\n    }\n}\n\nexport default connect(mapStateToProps, { hideModal, joinRoom })(JoinRoomModalRedux);\n","import React from 'react';\nimport { Field } from 'redux-form'\nimport { Form, FormGroup, FormControl } from 'react-bootstrap';\n\nconst renderRoomNameField = ({ input, label, ...otherFormProps }) => {\n    return (\n        <FormGroup controlId=\"delete-room-form-name\">\n            <Form.Label><strong>{label}</strong></Form.Label>\n            <FormControl {...otherFormProps} {...input} />\n        </FormGroup>\n    );\n}\n\nconst DeleteRoomFormView = ({ onFormSubmit, validate }) => {\n    return (\n        <Form noValidate id='delete-room-form' onSubmit={onFormSubmit} >\n            <Field\n                component={renderRoomNameField}\n                name=\"roomName\"\n                label=\"Room Name:\"\n                placeholder=\"Enter Room name here\"\n                validate={validate}\n                required\n            />\n        </Form>\n    );\n}\n\nexport default DeleteRoomFormView","import React from 'react';\nimport { reduxForm } from 'redux-form'\n\nimport DeleteRoomFormView from './DeleteRoomForm-View'\nimport { mustMatchRoomName } from './validate'\n\nclass DeleteRoomFormRedux extends React.Component {\n    constructor(props) {\n        super(props)\n        //Note: Do not move the following line to render (or componentDidUpdate, etc)\n        //Redux seems to treat the function, if created in render, as a new instance\n        //This triggers a re-render and creates an infinite render loop till React\n        //stops after its max state update (i.e, re-render) limit is reached\n        //Also, don't move this to DeleteRoomFormView as it is a functional component\n        //and the whole component comes under the \"render-scope\" unlike class component\n        //where likes of constructor or componentDidMount etc are not called on state update\n        this.deleteRoomFieldValidate = mustMatchRoomName(this.props.room)\n    }\n\n    render() {\n        const { room, onFormSubmit, deleteRoomForm, handleSubmit } = this.props\n        return (\n            <DeleteRoomFormView\n                room={room}\n                deleteRoomFormData={deleteRoomForm}\n                onFormSubmit={handleSubmit(onFormSubmit)}\n                validate={this.deleteRoomFieldValidate}\n            />\n        )\n    }\n}\n\nexport default reduxForm({\n    form: 'delete-room-form'\n})(DeleteRoomFormRedux)","const mustMatchRoomName = room => userEnteredRoomName => {\n    return room && userEnteredRoomName === room.name ? undefined : 'Room name not equal'\n}\n\nexport { mustMatchRoomName }","import DeleteRoomForm from './DeleteRoomForm-Redux'\n\nexport default DeleteRoomForm","import React from 'react';\nimport { Button, Row, Col } from 'react-bootstrap';\n\nimport { DeleteRoomForm } from './components'\nimport GenericModal from '../GenericModal';\nimport {\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\nimport { DeleteRoomButton } from '../../standalone/RoomActionButtons'\n\nconst DeleteRoomModalView = ({\n    deleteRoomProgress,\n    deleteRoomFormData,\n    modalProps,\n    isModalVisible,\n    hideModal,\n    onFormSubmit\n}) => {\n\n    const renderDeleteButton = () => {\n        const syncErrors = deleteRoomFormData ? deleteRoomFormData.syncErrors : null\n        const hasErrors = syncErrors && syncErrors.roomName\n\n        return (\n            <DeleteRoomButton\n                progress={deleteRoomProgress}\n                propsProgressInitial={{\n                    type: 'submit',\n                    'form': 'delete-room-form',\n                    variant: 'danger',\n                    disabled: hasErrors,\n                    className: `cursor-${hasErrors ? 'not-allowed' : 'pointer'}`\n                }}\n            />\n        )\n    }\n\n    const getModalActions = () => {\n        const isTaskCompleted = () => {\n            return deleteRoomProgress === PROGRESS_SUCCESS ||\n                deleteRoomProgress === PROGRESS_FAIL\n        }\n        const cancelButtonText = isTaskCompleted() ? 'Go Back' : 'Cancel'\n        return (\n            <>\n                <Button variant='outline-secondary' onClick={hideModal}>{cancelButtonText}</Button>\n                {renderDeleteButton()}\n            </>\n        )\n    }\n\n    const getModalContent = () => {\n        const { room } = modalProps\n        const roomName = room ? room.name : '<unknown>'\n        return (\n            <Row>\n                <Col sm={12}>\n                    <DeleteRoomForm\n                        onFormSubmit={onFormSubmit}\n                        room={room}\n                    />\n                </Col>\n                <Col>\n                    <p className='word-wrap-break-word'>\n                        To delete the room <strong>{roomName}</strong> type in the name of the room above\n                    </p>\n                </Col>\n            </Row>\n        )\n    }\n\n    return (\n        <GenericModal\n            header=\"Delete Room\"\n            actions={getModalActions()}\n            content={getModalContent()}\n            visible={isModalVisible}\n            hideModal={hideModal}\n        />\n    )\n}\n\nexport default DeleteRoomModalView","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport DeleteRoomModalView from './DeleteRoomModal-View'\n\nimport { hideModal as hideModalAction } from '../../../redux/actions/modal-actions';\nimport { deleteRoom as deleteRoomAction } from '../../../redux/actions/room-actions'\n\nclass DeleteRoomModalRedux extends React.Component {\n    onDeleteRoomFormSubmit = () => {\n        const {\n            onDeleteRoomPending,\n            onDeleteRoomSuccess,\n            onDeleteRoomFail,\n            deleteRoom,\n            modalProps: { room }\n        } = this.props\n\n        onDeleteRoomPending()\n        deleteRoom(room.roomId, onDeleteRoomSuccess, onDeleteRoomFail)\n    }\n\n    render() {\n        const {\n            deleteRoomForm,\n            deleteRoomProgress,\n            modalProps,\n            isModalVisible,\n            hideModal\n        } = this.props\n\n        return (\n            <DeleteRoomModalView\n                deleteRoomFormData={deleteRoomForm}\n                deleteRoomProgress={deleteRoomProgress}\n                modalProps={modalProps}\n                isModalVisible={isModalVisible}\n                hideModal={hideModal}\n                onFormSubmit={this.onDeleteRoomFormSubmit}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { modal } = state\n    return {\n        isModalVisible: modal.isModalOpen && modal.modalName === 'DeleteRoom',\n        modalProps: modal.modalProps,\n        deleteRoomForm: state.form['delete-room-form']\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    { hideModal: hideModalAction, deleteRoom: deleteRoomAction }\n)(DeleteRoomModalRedux);","import { deleteRoom } from '../../../server-communication/httpServer'\nimport { DELETE_ROOM } from '../../action-constants'\n\nexport default (roomId, onSuccess, onFailure) => async dispatch => {\n    deleteRoom(roomId).then(_ => {\n        onSuccess()\n        dispatch({ type: DELETE_ROOM, payload: roomId })\n    }).catch(onFailure)\n}","import DeleteRoomModal from './DeleteRoomModal-Container'\n\nexport default DeleteRoomModal","import React from 'react';\n\nimport DeleteRoomModalRedux from './DeleteRoomModal-Redux'\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\n\n\nclass DeleteRoomModalContainer extends React.Component {\n    state = { deleteRoomProgress: PROGRESS_INITIAL }\n\n    onDeleteRoomPending = () => {\n        this.setState({ deleteRoomProgress: PROGRESS_PENDING })\n    }\n\n    onDeleteRoomSuccess = () => {\n        this.setState({ deleteRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onDeleteRoomFail = () => {\n        this.setState({ deleteRoomProgress: PROGRESS_FAIL })\n    }\n\n    render() {\n        return (\n            <DeleteRoomModalRedux\n                onDeleteRoomPending={this.onDeleteRoomPending}\n                onDeleteRoomSuccess={this.onDeleteRoomSuccess}\n                onDeleteRoomFail={this.onDeleteRoomFail}\n                {...this.state}\n            />\n        );\n    }\n}\n\nexport default DeleteRoomModalContainer","import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nimport GenericModal from '../GenericModal';\nimport { LeaveRoomButton } from '../../standalone/RoomActionButtons'\nimport {\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\n\nconst LeaveRoomModalView = ({\n    room,\n    isModalVisible,\n    hideModal,\n    onLeaveRoomButtonClick,\n    leaveRoomProgress\n}) => {\n\n    const getModalContent = () => {\n        const roomName = <strong>{room ? room.name : '<unknown>'}</strong>\n        return <p className='word-wrap-break-word'>\n            Are you sure you want to leave the room {roomName}?\n        </p>\n    }\n\n    const renderLeaveRoomButton = () => {\n        return (\n            <LeaveRoomButton\n                progress={leaveRoomProgress}\n                propsProgressInitial={{\n                    variant: 'danger',\n                    onClick: onLeaveRoomButtonClick\n                }}\n            />\n        )\n    }\n\n    const getModalActions = () => {\n        const isTaskCompleted = () => {\n            return leaveRoomProgress === PROGRESS_SUCCESS ||\n                leaveRoomProgress === PROGRESS_FAIL\n        }\n        const cancelButtonText = isTaskCompleted() ? 'Go Back' : 'Cancel'\n        return (\n            <>\n                <Button variant='outline-secondary' onClick={hideModal}>{cancelButtonText}</Button>\n                {renderLeaveRoomButton()}\n            </>\n        )\n    }\n\n    return (\n        <GenericModal\n            header=\"Leave Room\"\n            actions={getModalActions()}\n            content={getModalContent()}\n            visible={isModalVisible}\n            hideModal={hideModal}\n        />\n    );\n}\n\nexport default LeaveRoomModalView","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport LeaveRoomModalView from './LeaveRoomModal-View'\nimport { hideModal as hideModalAction } from '../../../redux/actions/modal-actions';\nimport { leaveRoom as leaveRoomAction } from '../../../redux/actions/room-actions';\n\nconst LeaveRoomModalRedux = ({ modalProps: { room }, ...otherProps }) => {\n    const onLeaveRoomButtonClick = () => {\n        const { leaveRoom, onLeaveRoomPending, onLeaveRoomSuccess, onLeaveRoomFail } = otherProps\n        onLeaveRoomPending()\n        leaveRoom(room, onLeaveRoomSuccess, onLeaveRoomFail)\n    }\n\n    const {\n        isModalVisible,\n        hideModal,\n        leaveRoomProgress\n    } = otherProps\n\n    return (\n        <LeaveRoomModalView\n            room={room}\n            hideModal={hideModal}\n            isModalVisible={isModalVisible}\n            leaveRoomProgress={leaveRoomProgress}\n            onLeaveRoomButtonClick={onLeaveRoomButtonClick}\n        />\n    );\n}\n\nconst mapStateToProps = (state) => {\n    const { modal } = state\n    return {\n        isModalVisible: modal.isModalOpen && modal.modalName === 'LeaveRoom',\n        modalProps: modal.modalProps\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    { hideModal: hideModalAction, leaveRoom: leaveRoomAction }\n)(LeaveRoomModalRedux);","import { leaveRoom } from '../../../server-communication/httpServer'\nimport { LEAVE_ROOM } from '../../action-constants'\n\nconst getMemberDocOfUser = (room, userId) => {\n    for (let i = 0; i < room.members.length; i++) {\n        let member = room.members[i]\n        if (member && member.user && member.user._id === userId) {\n            return member\n        }\n    }\n}\n\nexport default (room, onSuccess, onFailure) => (dispatch, getState) => {\n    if (!room) {\n        return onFailure(new Error({ response: 'Not a room member' }))\n    }\n\n    const userId = getState().user.user._id\n    let memberDocOfUser = getMemberDocOfUser(room, userId)\n\n    if (!memberDocOfUser) {\n        return onFailure(new Error({ response: 'Not a room member' }))\n    }\n\n    leaveRoom(room.roomId, memberDocOfUser._id).then(response => {\n        dispatch({\n            type: LEAVE_ROOM,\n            payload: {\n                roomId: room.roomId,\n                updatedMembers: response.data.members\n            }\n        })\n        onSuccess(response)\n    }).catch(onFailure)\n}","import LeaveRoomModal from './LeaveRoomModal-Container'\n\nexport default LeaveRoomModal","import React from 'react';\n\nimport LeaveRoomModalRedux from './LeaveRoomModal-Redux'\nimport {\n    PROGRESS_INITIAL,\n    PROGRESS_PENDING,\n    PROGRESS_SUCCESS,\n    PROGRESS_FAIL\n} from '../../standalone/ProgressButton'\n\nclass LeaveRoomModalContainer extends React.Component {\n    state = { leaveRoomProgress: PROGRESS_INITIAL }\n\n    onLeaveRoomPending = () => {\n        this.setState({ leaveRoomProgress: PROGRESS_PENDING })\n    }\n\n    onLeaveRoomSuccess = () => {\n        this.setState({ leaveRoomProgress: PROGRESS_SUCCESS })\n    }\n\n    onLeaveRoomFail = () => {\n        this.setState({ leaveRoomProgress: PROGRESS_FAIL })\n    }\n\n    render() {\n        return (\n            <LeaveRoomModalRedux\n                onLeaveRoomPending={this.onLeaveRoomPending}\n                onLeaveRoomSuccess={this.onLeaveRoomSuccess}\n                onLeaveRoomFail={this.onLeaveRoomFail}\n                {...this.state}\n            />)\n    }\n}\n\nexport default LeaveRoomModalContainer","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport CreateRoomModal from './CreateRoomModal/'\nimport JoinRoomModal from './JoinRoomModal/'\nimport DeleteRoomModal from './DeleteRoomModal/'\nimport LeaveRoomModal from './LeaveRoomModal/'\n\nconst getModalComponentToShow = (modalName) => {\n    switch (modalName) {\n        case 'CreateRoom':\n            return <CreateRoomModal />\n        case 'JoinRoom':\n            return <JoinRoomModal />\n        case 'DeleteRoom':\n            return <DeleteRoomModal />\n        case 'LeaveRoom':\n            return <LeaveRoomModal />\n        default:\n            return null\n    }\n}\n\nconst ModalContainer = (props) => {\n    if (!props.modal.isModalOpen) {\n        return null\n    }\n\n    return getModalComponentToShow(props.modal.modalName)\n}\n\nconst mapStateToProps = (state) => {\n    return { modal: state.modal }\n}\n\nexport default connect(mapStateToProps)(ModalContainer);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport reducers from './redux/reducers'\nimport App from './components/App'\nimport ModalContainer from './components/modals/ModalContainer'\n\nconst composeEnhanchers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhanchers(\n    applyMiddleware(thunk)\n));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n        <ModalContainer />\n    </Provider>,\n    document.querySelector(\"#root\")\n);"],"sourceRoot":""}